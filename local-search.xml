<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Windows安装zsh终端</title>
    <link href="/posts/189c35d9d027/"/>
    <url>/posts/189c35d9d027/</url>
    
    <content type="html"><![CDATA[<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a><strong>效果</strong></h2><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/202406021803316.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/202406021803318.webp"></p><h2 id="安装git-bash"><a href="#安装git-bash" class="headerlink" title="安装git bash"></a><strong>安装git bash</strong></h2><p><a href="https://git-scm.com/downloads">git bash下载地址</a></p><h2 id="安装ZSH"><a href="#安装ZSH" class="headerlink" title="安装ZSH"></a><strong>安装ZSH</strong></h2><ol><li>下载ZSH安装包.<br><a href="https://repo.msys2.org/msys/x86_64/zsh-5.8-5-x86_64.pkg.tar.zst">下载地址</a><br><a href="https://packages.msys2.org/package/zsh?repo=msys&variant=x86_64">安装包明细地址</a> <img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/202406021829610.png"></li><li>用解压缩软件(比如: 7zip)解压ZSH安装包</li><li>将解压后的文件夹中的所有文件全部复制到Git中(比如:”C:\Program Files\Git”), git文件夹中应该没有文件会被覆盖</li><li>打开git bash, 测试命令 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">zsh<br></code></pre></td></tr></table></figure></li><li>设置zsh为默认shell<br>找到<code>~/.bashrc</code>, 如果<code>~/.bashrc</code>文件不存在. 创建该文件即可.<ul><li>“c:\Users\Administrator”文件夹就是”~”</li></ul> 在<code>~/.bashrc</code>文件中添加以下代码 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Add the following content</span><br><span class="hljs-keyword">if</span> [ -t 1 ]; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">exec</span> zsh<br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure></li></ol><h2 id="设置oh-my-zsh"><a href="#设置oh-my-zsh" class="headerlink" title="设置oh-my-zsh"></a><strong>设置oh-my-zsh</strong></h2><p>安装oh-my-zsh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sh -c <span class="hljs-string">&quot;<span class="hljs-subst">$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>&quot;</span><br></code></pre></td></tr></table></figure><p>添加第三方插件</p><ul><li><a href="https://www.poloxue.com/posts/2023-10-16-zsh-themes-and-plugins/">插件推荐文章1</a></li><li><a href="https://www.poloxue.com/posts/2023-10-19-zsh-6-powerful-plugins/">插件推荐文章2</a></li></ul><p>sh-autosuggestions和zsh-syntax-highlighting是第三方插件, 需要单独安装.</p><p>运行以下命令安装即可</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># zsh-autosuggestions</span><br>git <span class="hljs-built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions <span class="hljs-variable">$&#123;ZSH_CUSTOM:-<span class="hljs-variable">$HOME</span>/.oh-my-zsh/custom&#125;</span>/plugins/zsh-autosuggestions<br><br><span class="hljs-comment"># zsh-syntax-highlighting</span><br>git <span class="hljs-built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting <span class="hljs-variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-syntax-highlighting<br></code></pre></td></tr></table></figure><p>我的插件</p><ol><li><strong>git</strong> - 提供Git命令的自动补全和别名支持。<br> <img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/202406021803319.png" alt="图片3"></li><li><strong>zsh-autosuggestions</strong> - 根据历史记录自动建议命令。</li><li><strong>zsh-syntax-highlighting</strong> - 实时高亮显示命令语法。</li><li><strong>copyfile</strong> - 复制文件内容到剪贴板。</li><li><strong>copypath</strong> - 复制文件目录路径到剪贴板。</li><li><strong>z</strong> - 根据使用频率快速跳转目录。</li><li><strong>you-should-use</strong> - 建议更佳的命令使用方法。</li></ol><p>我的<code>.zshrc</code>文件如下:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br><span class="hljs-comment"># Path to your oh-my-zsh installation.</span><br><span class="hljs-built_in">export</span> ZSH=<span class="hljs-string">&quot;<span class="hljs-variable">$HOME</span>/.oh-my-zsh&quot;</span><br><br><span class="hljs-comment"># 主题</span><br>ZSH_THEME=<span class="hljs-string">&quot;robbyrussell&quot;</span><br><br><span class="hljs-comment"># 插件</span><br>plugins=(<br>    git<br>    zsh-autosuggestions<br>    zsh-syntax-highlighting<br>    copyfile<br>    copypath<br>    z<br>    you-should-use<br>)<br><br><span class="hljs-built_in">source</span> <span class="hljs-variable">$ZSH</span>/oh-my-zsh.sh<br><br><span class="hljs-comment"># 我的设置</span><br><span class="hljs-comment"># 自动补全配置, 忽略zsh自带的补全&quot;git check-&quot;和&quot;git cherry-&quot;</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion::complete:git:*:*&#x27;</span> ignored-patterns <span class="hljs-string">&#x27;check*-*&#x27;</span> <span class="hljs-string">&#x27;cherry&#x27;</span> <span class="hljs-string">&#x27;cherry-pick&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a><strong>参考</strong></h2><ul><li><a href="https://medium.com/@leomaurodesenv/setting-up-your-git-bash-zsh-terminals-on-windows-fa94871f440d">Setting up your Git Bash/ZSH terminals on Windows | by Leonardo Mauro P. Moraes | Medium</a></li><li><a href="https://blog.csdn.net/qq_39099905/article/details/124598707">ZSH TAB补全命令时候选项过多问题</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>windows软件</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux终端</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>很少知道的水电技巧系列04 - 肥皂水令玻璃胶好收边</title>
    <link href="/posts/a193cf171198/"/>
    <url>/posts/a193cf171198/</url>
    
    <content type="html"><![CDATA[<h2 id="玻璃胶收边问题"><a href="#玻璃胶收边问题" class="headerlink" title="玻璃胶收边问题"></a>玻璃胶收边问题</h2><p>玻璃胶直接用纸巾收边,(擦), 会好麻烦</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203213508.webp"></p><h3 id="用肥皂水可以解决问题"><a href="#用肥皂水可以解决问题" class="headerlink" title="用肥皂水可以解决问题"></a>用肥皂水可以解决问题</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203213509.webp"></p><!-- ![](https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203213510.webp) --><h3 id="第一次打好玻璃胶的时候-向玻璃胶喷肥皂水"><a href="#第一次打好玻璃胶的时候-向玻璃胶喷肥皂水" class="headerlink" title="第一次打好玻璃胶的时候, 向玻璃胶喷肥皂水"></a>第一次打好玻璃胶的时候, 向玻璃胶喷肥皂水</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203213511.gif"></p><h3 id="收尾玻璃胶"><a href="#收尾玻璃胶" class="headerlink" title="收尾玻璃胶"></a>收尾玻璃胶</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203213512.gif"></p><h3 id="原理-因为玻璃胶不溶于水"><a href="#原理-因为玻璃胶不溶于水" class="headerlink" title="原理: 因为玻璃胶不溶于水"></a>原理: 因为玻璃胶不溶于水</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203213513.webp"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203213514.webp"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203213515.webp"></p>]]></content>
    
    
    <categories>
      
      <category>很少知道的水电技巧系列</category>
      
    </categories>
    
    
    <tags>
      
      <tag>水电</tag>
      
      <tag>DIY</tag>
      
      <tag>梁师傅</tag>
      
      <tag>很少知道的水电技巧系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>很少知道的水电技巧系列03 - 用一次性木筷子解决螺纹孔松动问题</title>
    <link href="/posts/e4c2feaf75e8/"/>
    <url>/posts/e4c2feaf75e8/</url>
    
    <content type="html"><![CDATA[<h3 id="问题情况"><a href="#问题情况" class="headerlink" title="问题情况"></a>问题情况</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203212235.gif"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203212236.webp"></p><h3 id="把螺丝拆出来"><a href="#把螺丝拆出来" class="headerlink" title="把螺丝拆出来"></a>把螺丝拆出来</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203212237.webp"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203212238.webp"></p><h3 id="如果木筷子不能塞进入孔里-先扩大孔-把孔钻大"><a href="#如果木筷子不能塞进入孔里-先扩大孔-把孔钻大" class="headerlink" title="如果木筷子不能塞进入孔里.先扩大孔(把孔钻大)"></a>如果木筷子不能塞进入孔里.先扩大孔(把孔钻大)</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203212239.gif"></p><h3 id="塞入木筷子-一次性筷子"><a href="#塞入木筷子-一次性筷子" class="headerlink" title="塞入木筷子(一次性筷子)"></a>塞入木筷子(一次性筷子)</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203212240.webp"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203212241.webp"></p><h3 id="再锁螺丝"><a href="#再锁螺丝" class="headerlink" title="再锁螺丝"></a>再锁螺丝</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203212242.webp"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203212243.webp"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203212244.webp"></p>]]></content>
    
    
    <categories>
      
      <category>很少知道的水电技巧系列</category>
      
    </categories>
    
    
    <tags>
      
      <tag>水电</tag>
      
      <tag>DIY</tag>
      
      <tag>梁师傅</tag>
      
      <tag>很少知道的水电技巧系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>很少知道的水电技巧系列02 - 一次性筷子可以固定螺丝</title>
    <link href="/posts/426aadec0440/"/>
    <url>/posts/426aadec0440/</url>
    
    <content type="html"><![CDATA[<h3 id="钻孔"><a href="#钻孔" class="headerlink" title="钻孔"></a>钻孔</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203210743.gif"></p><h3 id="把一次性筷子插入孔里"><a href="#把一次性筷子插入孔里" class="headerlink" title="把一次性筷子插入孔里"></a>把一次性筷子插入孔里</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203210744.webp"></p><h3 id="确定筷子有进入孔里"><a href="#确定筷子有进入孔里" class="headerlink" title="确定筷子有进入孔里"></a>确定筷子有进入孔里</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203210745.webp"></p><h3 id="拆掉筷子"><a href="#拆掉筷子" class="headerlink" title="拆掉筷子"></a>拆掉筷子</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203210746.gif"></p><h3 id="把螺丝锁入木筷子的孔"><a href="#把螺丝锁入木筷子的孔" class="headerlink" title="把螺丝锁入木筷子的孔"></a>把螺丝锁入木筷子的孔</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203210747.webp"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203210748.webp"></p><h3 id="最后手动扭紧螺丝"><a href="#最后手动扭紧螺丝" class="headerlink" title="最后手动扭紧螺丝"></a>最后手动扭紧螺丝</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203210749.webp"></p>]]></content>
    
    
    <categories>
      
      <category>很少知道的水电技巧系列</category>
      
    </categories>
    
    
    <tags>
      
      <tag>水电</tag>
      
      <tag>DIY</tag>
      
      <tag>梁师傅</tag>
      
      <tag>很少知道的水电技巧系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>很少知道的水电技巧系列01 - 极限空间缠绕生料带</title>
    <link href="/posts/7fda9771ae10/"/>
    <url>/posts/7fda9771ae10/</url>
    
    <content type="html"><![CDATA[<h3 id="问题场景"><a href="#问题场景" class="headerlink" title="问题场景"></a>问题场景</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203203216.webp"></p><p>这个地方有墙壁顶着.缠绕生料带十分困难</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203203217.webp"></p><h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><h3 id="用小的钻头"><a href="#用小的钻头" class="headerlink" title="用小的钻头"></a>用小的钻头</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203203218.webp"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203203219.webp"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203203220.gif"></p><h3 id="转到一定厚度-把生料带撕下来"><a href="#转到一定厚度-把生料带撕下来" class="headerlink" title="转到一定厚度,把生料带撕下来"></a>转到一定厚度,把生料带撕下来</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203203221.webp"></p><h3 id="把钻头拿下来"><a href="#把钻头拿下来" class="headerlink" title="把钻头拿下来"></a>把钻头拿下来</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203203222.webp"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203203223.gif"></p><h2 id="情况2-孔洞太深，板手拆不到"><a href="#情况2-孔洞太深，板手拆不到" class="headerlink" title="情况2: 孔洞太深，板手拆不到"></a>情况2: 孔洞太深，板手拆不到</h2><p>假如需要拆除这个接头, 接头跟墙是平的</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203203224.webp"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203203225.webp"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203203226.gif"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231203203227.gif"></p>]]></content>
    
    
    <categories>
      
      <category>很少知道的水电技巧系列</category>
      
    </categories>
    
    
    <tags>
      
      <tag>水电</tag>
      
      <tag>DIY</tag>
      
      <tag>梁师傅</tag>
      
      <tag>很少知道的水电技巧系列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>单股线分接 | 单股线T接 | 接电线</title>
    <link href="/posts/339d334c7abf/"/>
    <url>/posts/339d334c7abf/</url>
    
    <content type="html"><![CDATA[<h2 id="单股线分接"><a href="#单股线分接" class="headerlink" title="单股线分接"></a>单股线分接</h2><h3 id="长的-剥线长度8-10cm"><a href="#长的-剥线长度8-10cm" class="headerlink" title="长的, 剥线长度8-10cm"></a>长的, 剥线长度8-10cm</h3><p>上面1节不要, 下面1节不要, 只要中间的长度</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202230906.webp"></p><h3 id="主干-剥1-5cm-大约2个手指宽"><a href="#主干-剥1-5cm-大约2个手指宽" class="headerlink" title="主干  剥1.5cm, 大约2个手指宽"></a>主干  剥1.5cm, 大约2个手指宽</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202230906.webp"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202230903.webp"></p><h3 id="打结"><a href="#打结" class="headerlink" title="打结"></a>打结</h3><p>把缠绕的线放在上面</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202231006.webp" alt="Untitled 10"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202230905.webp"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202230908.webp"></p><p>后面的从前面左边过来,再从前面过去右边</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202230910.webp"></p><p>从背后上来</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202230912.webp"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202230913.webp"></p><h3 id="绕6-8圈-逆时针"><a href="#绕6-8圈-逆时针" class="headerlink" title="绕6-8圈, 逆时针"></a>绕6-8圈, 逆时针</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202230917.webp"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202230922.webp"></p><h3 id="包胶布"><a href="#包胶布" class="headerlink" title="包胶布"></a>包胶布</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202232052.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202232054.webp"></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><p><a href="https://www.bilibili.com/video/BV18A411i75U/">视频链接 - B站</a></p></li><li><p><a href="https://www.douyin.com/search/%E5%8D%95%E8%82%A1%E7%BA%BF%E5%88%86%E6%8E%A5?aid=83b0a993-6c34-4da3-b92f-54ea5fc8b576&aweme_id=7179017303663611194&enter_from=keywords_expansion&gid=7179017303663611194&source=normal_search">抖音视频 - 单股线分解1</a></p></li><li><p><a href="https://www.douyin.com/search/%E5%8D%95%E8%82%A1%E7%BA%BF%E5%88%86%E6%8E%A5?aid=83b0a993-6c34-4da3-b92f-54ea5fc8b576&aweme_id=7179017303663611194&enter_from=keywords_expansion&gid=7179017303663611194&source=normal_search">抖音视频 - 单股线分接2</a></p></li></ul>]]></content>
    
    
    <categories>
      
      <category>电工</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DIY</tag>
      
      <tag>电工</tag>
      
      <tag>接电线</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>单股线平接 | 接电线</title>
    <link href="/posts/39fc9a20ae9c/"/>
    <url>/posts/39fc9a20ae9c/</url>
    
    <content type="html"><![CDATA[<p><a href="https://www.bilibili.com/video/BV1cZ4y1u7bb/">https://www.bilibili.com/video/BV1cZ4y1u7bb/</a></p><p>横着接就是平接</p><p>剥线, <strong>每条线剥8-10cm</strong></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202141202.webp" alt="图0"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140147.webp" alt="图1"></p><p>剥1个手指(食指)的长度</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140147.webp" alt="图2"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140155.webp" alt="图3"></p><p>距离相交点 1.5cm(一个手指的宽度)</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140158.webp" alt="图4"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140202.webp" alt="图5"></p><p>留一个手指的宽度(食指)</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140204.webp" alt="图6"></p><p>平接后, 缠绕尾端离绝缘层不能超过0.5cm</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140206.webp" alt="图7"></p><h3 id="中间绕圈"><a href="#中间绕圈" class="headerlink" title="中间绕圈"></a>中间绕圈</h3><p>中间位置捉住, 其中一边抓住2条线,  另外一边2条电线转1圈<br>例如: 捉住左边两条电线. 另外一边2条电线转1圈</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140208.webp" alt="图8"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140210.webp" alt="图9"></p><p>实际</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140217.webp" alt="图10"></p><p>用没有牙齿的地方咬住(钳住)电线, 平的地方</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140219.webp" alt="图11"></p><h3 id="竖着绕5-6圈"><a href="#竖着绕5-6圈" class="headerlink" title="竖着绕5-6圈"></a>竖着绕5-6圈</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140226.gif" alt="图12"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140230.webp" alt="图13"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140232.webp" alt="图14"></p><h3 id="如果松了"><a href="#如果松了" class="headerlink" title="如果松了"></a>如果松了</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140236.webp" alt="图15"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140238.webp" alt="图16"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140244.webp" alt="图17"></p><h3 id="接好的样子"><a href="#接好的样子" class="headerlink" title="接好的样子"></a>接好的样子</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231202140246.webp" alt="接好的样子"></p>]]></content>
    
    
    <categories>
      
      <category>电工</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DIY</tag>
      
      <tag>电工</tag>
      
      <tag>接电线</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>在线图片修复放大, 去水印网站推荐</title>
    <link href="/posts/8d3c1b037756/"/>
    <url>/posts/8d3c1b037756/</url>
    
    <content type="html"><![CDATA[<h2 id="photokit-com-推荐-图片去水印"><a href="#photokit-com-推荐-图片去水印" class="headerlink" title="photokit.com(推荐), 图片去水印"></a>photokit.com(推荐), 图片去水印</h2><p><a href="https://photokit.com/editor/?lang=zh&from=clarityai">https://photokit.com/editor/?lang=zh&amp;from=clarityai</a></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231127104607.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231127104828.png" alt="Untitled"></p><h2 id="waifu2x-udp-jp"><a href="#waifu2x-udp-jp" class="headerlink" title="waifu2x.udp.jp"></a>waifu2x.udp.jp</h2><p><a href="https://waifu2x.udp.jp/">https://waifu2x.udp.jp/</a></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231127104618.png"></p><h2 id="waifu2x-booru-pics"><a href="#waifu2x-booru-pics" class="headerlink" title="waifu2x.booru.pics/"></a>waifu2x.booru.pics/</h2><p><a href="https://waifu2x.booru.pics/">https://waifu2x.booru.pics/</a></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231127104621.png"></p><h2 id="mglarger-com"><a href="#mglarger-com" class="headerlink" title="mglarger.com"></a>mglarger.com</h2><p><a href="https://imglarger.com/zh-tw">https://imglarger.com/zh-tw</a></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20231127104623.png"></p>]]></content>
    
    
    <categories>
      
      <category>网站推荐</category>
      
    </categories>
    
    
    <tags>
      
      <tag>图片修复</tag>
      
      <tag>去水印</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>折腾虚拟机PVE系列: 05.备份虚拟机</title>
    <link href="/posts/0b310bb14c7e/"/>
    <url>/posts/0b310bb14c7e/</url>
    
    <content type="html"><![CDATA[<h2 id="备份虚拟机"><a href="#备份虚拟机" class="headerlink" title="备份虚拟机"></a>备份虚拟机</h2><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230901113216.webp" alt="备份虚拟机-1"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230901113219.webp" alt="备份虚拟机-2"></p><p>备份文件保存位置</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">/var/lib/vz/dump<br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230901114245.png" alt="备份成功"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230901114250.png" alt="备份文件位置"></p><p>将备份文件xxx.vma下载到本地, 完成备份</p>]]></content>
    
    
    <categories>
      
      <category>折腾虚拟机PVE</category>
      
    </categories>
    
    
    <tags>
      
      <tag>虚拟机</tag>
      
      <tag>Linux</tag>
      
      <tag>PVE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>折腾虚拟机PVE系列: 04.升级PVE系统为8.x</title>
    <link href="/posts/97814c8be1dd/"/>
    <url>/posts/97814c8be1dd/</url>
    
    <content type="html"><![CDATA[<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>升级前, 需要提前备份你的虚拟机<br>参考文章<a href="">折腾虚拟机PVE系列05: 备份虚拟机</a></p><h2 id="方式1-命令行升级"><a href="#方式1-命令行升级" class="headerlink" title="方式1: 命令行升级"></a>方式1: 命令行升级</h2><h3 id="升级PVE到7-x最新版本"><a href="#升级PVE到7-x最新版本" class="headerlink" title="升级PVE到7.x最新版本"></a>升级PVE到7.x最新版本</h3><p>备份apt源文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cp</span> /etc/apt/sources.list /etc/apt/sources.list.bak <br></code></pre></td></tr></table></figure><p>修改apt源, 添加PVE7.x清华源</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /etc/apt/sources.list<br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230901110031.webp" alt="7.x清华源"></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text"># 7.x清华源<br>deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye main contrib non-free<br>deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-updates main contrib non-free<br>deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-backports main contrib non-free<br>deb https://mirrors.tuna.tsinghua.edu.cn/debian-security bullseye-security main contrib non-free<br><br></code></pre></td></tr></table></figure><p>修改企业源</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /etc/apt/sources.list.d/pve-enterprise.list<br></code></pre></td></tr></table></figure><p>把默认的源注释掉, 添加pve7.x清华源</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230901110027.webp" alt="7.x清华源企业源"></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text"># 7.x清华源<br>deb https://mirrors.tuna.tsinghua.edu.cn/proxmox/debian bullseye pve-no-subscription<br></code></pre></td></tr></table></figure><p>更新系统</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">apt update &amp;&amp; apt dist-upgrade -y<br></code></pre></td></tr></table></figure><p>升级完成 重启</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">reboot<br></code></pre></td></tr></table></figure><h3 id="升级PVE7-x为8-x"><a href="#升级PVE7-x为8-x" class="headerlink" title="升级PVE7.x为8.x"></a>升级PVE7.x为8.x</h3><h4 id="设置8-x源"><a href="#设置8-x源" class="headerlink" title="设置8.x源"></a>设置8.x源</h4><p>编辑PVE8.x需要的源</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /etc/apt/sources.list<br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230901110030.webp" alt="编辑PVE8.x需要的源"></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs text"># 8.x清华源<br>deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm main contrib non-free non-free-firmware<br>deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-updates main contrib non-free non-free-firmware<br>deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-backports main contrib non-free non-free-firmware<br><br># security updates<br>deb https://security.debian.org/debian-security bookworm-security main contrib non-free non-free-firmware<br></code></pre></td></tr></table></figure><p>编辑企业源</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /etc/apt/sources.list.d/pve-enterprise.list<br></code></pre></td></tr></table></figure><p>将7.x的企业源删除, 然后添加8.x的源</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text"># 8.x清华源<br>deb https://mirrors.tuna.tsinghua.edu.cn/proxmox/debian/pve bookworm pve-no-subscription<br></code></pre></td></tr></table></figure><p>修复更新时401错误</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;deb http://download.proxmox.com/debian/ceph-quincy bookworm no-subscription&quot;</span> &gt; /etc/apt/sources.list.d/ceph.list<br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230901110039.webp" alt="修复更新时401错误"></p><p>下载官方授权加密证书</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://enterprise.proxmox.com/debian/proxmox-release-bookworm.gpg  -O /etc/apt/trusted.gpg.d/proxmox-release-bookworm.gpg<br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230901110042.webp" alt="下载官方授权加密证书"></p><h4 id="升级PVE为8-x"><a href="#升级PVE为8-x" class="headerlink" title="升级PVE为8.x"></a>升级PVE为8.x</h4><p>验证升级是否有问题</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pve7to8 --full<br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230901111749.png" alt="Run the Proxmox 7 to 8 upgrade checklist program"></p><ul><li>FAILURES: 检查发现的错误, 有问题需要改进的地方.</li></ul><p>如果验证没有问题,可以升级pve</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">apt update <br>apt dist-upgrade<br></code></pre></td></tr></table></figure><p>如果中途报错, 试下执行以下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">apt-get update --fix-missing<br>apt dist-upgrade<br></code></pre></td></tr></table></figure><h2 id="方式2-下载PVE-8-x系统镜像-重新安装系统"><a href="#方式2-下载PVE-8-x系统镜像-重新安装系统" class="headerlink" title="方式2: 下载PVE 8.x系统镜像,重新安装系统"></a>方式2: 下载PVE 8.x系统镜像,重新安装系统</h2><ol><li>备份虚拟机</li><li>参考<a href="">折腾PVE虚拟机系列: 01.安装PVE</a>到PVE官方网站下载8.x版本镜像, 重新安装即可</li></ol>]]></content>
    
    
    <categories>
      
      <category>折腾虚拟机PVE</category>
      
    </categories>
    
    
    <tags>
      
      <tag>虚拟机</tag>
      
      <tag>Linux</tag>
      
      <tag>PVE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>主板开机跳线安装说明</title>
    <link href="/posts/c811bd6c3d8e/"/>
    <url>/posts/c811bd6c3d8e/</url>
    
    <content type="html"><![CDATA[<p>在主板的最下方的位置, 安装机箱跳线<br>左正右负<br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230825182541.webp" alt="img-1"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230825184046.webp" alt="img-2"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230825183254.webp" alt="img-3"></p>]]></content>
    
    
    <categories>
      
      <category>电脑硬件</category>
      
    </categories>
    
    
    <tags>
      
      <tag>电脑硬件</tag>
      
      <tag>台式机</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>交互式git rebase压缩提交记录,合并提交记录</title>
    <link href="/posts/5126db6466c6/"/>
    <url>/posts/5126db6466c6/</url>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>交互式git reabse可以编辑某个提交点之后的提交记录.包括删除,修改,合并等.</p><p>本文安装git图形工具<code>SourceTree</code>. 以图形界面方式能更好地查看<code>commit节点</code>情况</p><p>本文中说到”压缩提交”和”合并提交”是同一个意思</p><h3 id="⚠️注意"><a href="#⚠️注意" class="headerlink" title="⚠️注意"></a>⚠️注意</h3><p><strong>最好不要在主分支(例如:master)使用交互式rebase操作提交记录.</strong> </p><p><strong>因为交互式rebase操作会令<code>参与操作的提交节点</code>和<code>之后的所有提交节点</code>的提交id(commit-hash)会发生变化.</strong></p><h2 id="方式1-使用命令压缩提交"><a href="#方式1-使用命令压缩提交" class="headerlink" title="方式1: 使用命令压缩提交"></a>方式1: 使用命令压缩提交</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git rebase -i [commit-hash]<br></code></pre></td></tr></table></figure><p>动画例子: <code>git rebase -i i8fe5</code> 管理<code>i8fe5</code> 之后的提交节点</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185136.webp"></p><h3 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h3><p>用<code>SourceTree</code>打开项目可以看到, 分支上有6个提交记录, v1 — v6</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185132.png"></p><p>目标: 压缩v1之后的提交到v2, 即: 合并(v3, v4, v5, v6) —&gt; v2</p><h3 id="1-找出基点提交id-commit-hash"><a href="#1-找出基点提交id-commit-hash" class="headerlink" title="1. 找出基点提交id(commit-hash)."></a>1. <strong>找出基点提交id(commit-hash).</strong></h3><p>基点: 变基rebase参考点, 参考点可以理解为”地基”.只作为参照,不参与操作</p><p>案例中v1就是基点, 所以<strong>要找到v1的提交id</strong></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185142.png" alt="基点"></p><p>通过<code>SourceTree</code>或<code>git log</code>, 找到v1的提交id</p><p><strong>v1提交id为: <code>b6919c7</code></strong></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185147.png" alt="v1提交id"></p><h3 id="2-执行交互式git-rebase命令"><a href="#2-执行交互式git-rebase命令" class="headerlink" title="2. 执行交互式git rebase命令"></a>2. 执行交互式git rebase命令</h3><p>找到v1的提交id(<code>b6919c7</code>)后, 可以执行命令管理v1之后的提交节点</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git rebase -i b6919c7 <br></code></pre></td></tr></table></figure><p>执行命令后显示</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185149.png"></p><p>其中<strong>pick</strong>, <strong>squash</strong>, <strong>fixup</strong>这3个操作与压缩提交有关</p><ul><li><code>pick</code>: 使用提交</li><li><code>squash</code> : 将提交融合到前一个提交中；</li><li><code>fixup</code>: 将提交融合到前一个提交中，不保留该提交的日志消息；</li></ul><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs txt">p, pick &lt;commit&gt; = use commit<br>r, reword &lt;commit&gt; = use commit, but edit the commit message<br>e, edit &lt;commit&gt; = use commit, but stop for amending<br>s, squash &lt;commit&gt; = use commit, but meld into previous commit<br>f, fixup &lt;commit&gt; = like &quot;squash&quot;, but discard this commit&#x27;s log message<br>x, exec &lt;command&gt; = run command (the rest of the line) using shell<br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824191649.png"></p><h3 id="3-修改git-rebase的交互文本压缩提交"><a href="#3-修改git-rebase的交互文本压缩提交" class="headerlink" title="3. 修改git rebase的交互文本压缩提交"></a>3. 修改git rebase的交互文本压缩提交</h3><p>压缩(v3,v4,v5,v6) —&gt; v2 , </p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs txt">pick d9ca07c v2<br>f 3f83f0a v3<br>f ab92fa4 v4<br>f abcde39 v5<br>f 0034515 v6<br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185152.png"></p><ul><li><code>f, fixup</code>: 将提交融合到前一个提交中，不保留该提交的日志消息；</li><li><code>pick</code>: 使用提交</li></ul><p>确认编辑完成后, “:wq”保存退出</p><h3 id="4-效果"><a href="#4-效果" class="headerlink" title="4. 效果"></a>4. 效果</h3><p>(v3, v4, v5, v6) 合并到 v2 </p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185156.png" alt="合并后"></p><p><strong>图中的v2是一个全新的提交节点</strong>, 提交id和之前的v2是不同的. 只是提交信息和之前的v2相同而已</p><h2 id="方式2-使用图形界面压缩提交"><a href="#方式2-使用图形界面压缩提交" class="headerlink" title="方式2: 使用图形界面压缩提交"></a>方式2: 使用图形界面压缩提交</h2><p>图形界面软件: <a href="https://www.sourcetreeapp.com/">SourceTree</a></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185158.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185200.png"></p><p>依次操作</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185202.png"></p><p>按钮“<strong>用此前的squash</strong>”  可以理解为讲选择的提交记<code>v6</code>录合并到上一个提交记录<code>v5</code></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230828140905.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185204.png"></p><p>之后依次把v3,v4,v5,v6合并</p><p>确定操作,点击”确认”.</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185206.png"></p><p>压缩提交的时候,<code>SourceTree</code>会自动生成默认的<code>提交消息</code>.</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185208.png"></p><h3 id="可选-如果需要修改提交信息"><a href="#可选-如果需要修改提交信息" class="headerlink" title="(可选)如果需要修改提交信息"></a>(可选)如果需要修改提交信息</h3><p><strong>⚠️注意: 使用交互式rebase修改提交消息(commit message), 会改变当前和之后所有提交节点的提交id</strong><br>所以, 主分支(例如:master)也最好不要使用这个操作</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185209.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185211.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185214.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230824185217.png"></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考:"></a>参考:</h2><ul><li><a href="https://kinboyw.github.io/2019/04/09/Git-%E5%8E%8B%E7%BC%A9%E5%A4%9A%E4%B8%AAcommit%E4%B8%BA%E5%8D%95%E4%B8%AAcommit/">Git 压缩多个commit为单个commit</a></li><li><a href="https://blog.csdn.net/Jet_KILL/article/details/115767229">sourcetree如何合并多个提交</a></li><li><a href="https://github.com/biaochenxuying/blog/issues/67">惊艳！小姐姐用动画图解 Git 的 10 大命令，这也太秀了吧！</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Git笔记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
      <tag>Git rebase</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>折腾PVE虚拟机系列: 03.创建Openwrt虚拟机</title>
    <link href="/posts/98f69bf77e98/"/>
    <url>/posts/98f69bf77e98/</url>
    
    <content type="html"><![CDATA[<h2 id="一-下载Openwrt固件包"><a href="#一-下载Openwrt固件包" class="headerlink" title="一. 下载Openwrt固件包"></a>一. 下载Openwrt固件包</h2><p><a href="https://drive.google.com/drive/folders/1uRXg_krKHPrQneI3F2GNcSVRoCgkqESr">https://drive.google.com/drive/folders/1uRXg_krKHPrQneI3F2GNcSVRoCgkqESr</a></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129150954.png"></p><h2 id="二-在PVE中添加虚拟机"><a href="#二-在PVE中添加虚拟机" class="headerlink" title="二. 在PVE中添加虚拟机"></a>二. 在PVE中添加虚拟机</h2><h3 id="1、开始创建虚拟机"><a href="#1、开始创建虚拟机" class="headerlink" title="1、开始创建虚拟机"></a>1、开始创建虚拟机</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129150950.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129150940.png"></p><h3 id="2、设置CD-DVD"><a href="#2、设置CD-DVD" class="headerlink" title="2、设置CD/DVD"></a>2、设置CD/DVD</h3><p>选择“不适用任何介质”，操作系统和版本默认即可，点击“下一步”。</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129150936.png"></p><h3 id="3、设置系统"><a href="#3、设置系统" class="headerlink" title="3、设置系统"></a>3、设置系统</h3><p>默认选项,直接下一步</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151002.png"></p><h3 id="4、设置硬盘"><a href="#4、设置硬盘" class="headerlink" title="4、设置硬盘"></a>4、设置硬盘</h3><p>直接使用默认选项，之后会删除. 然后用刚刚下载的img镜像创建虚拟磁盘。</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151006.png"></p><h3 id="5、CPU核心数量按需添加，一般双核足够了"><a href="#5、CPU核心数量按需添加，一般双核足够了" class="headerlink" title="5、CPU核心数量按需添加，一般双核足够了"></a>5、CPU核心数量按需添加，一般双核足够了</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151010.png"></p><p>注意: aes需要选**+号**开启</p><h3 id="6、设置内存"><a href="#6、设置内存" class="headerlink" title="6、设置内存"></a>6、设置内存</h3><p>openwrt系统不要太多内存, 建议分配1G即可</p><p>内存256MB以上都是够的，系统有富余就多加一点，一般不用超高2GB，点击“下一步”</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151013.png"></p><h3 id="7、设置网络"><a href="#7、设置网络" class="headerlink" title="7、设置网络"></a>7、设置网络</h3><p>PVE虚拟机可选网卡模型（虚拟网卡）有Intel E1000、VirtIO（半虚拟化）、Realtek RTL8139和VMware vmxnet3四种。建议选用默认的VirtIO（半虚拟化），其性能和效率最高。</p><p>VirtIO模型在Openwrt内会显示“Unknown!半双工”，但实测是千兆全双工，不影响使用。</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151015.png"></p><h3 id="8、最后确认下所有设置和参数，点击完成。"><a href="#8、最后确认下所有设置和参数，点击完成。" class="headerlink" title="8、最后确认下所有设置和参数，点击完成。"></a>8、最后确认下所有设置和参数，点击完成。</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151018.png"></p><h3 id="9、分离不用的硬盘"><a href="#9、分离不用的硬盘" class="headerlink" title="9、分离不用的硬盘"></a>9、分离不用的硬盘</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151021.png"></p><h3 id="10、删除不用的硬盘和光驱"><a href="#10、删除不用的硬盘和光驱" class="headerlink" title="10、删除不用的硬盘和光驱"></a>10、删除不用的硬盘和光驱</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151023.png"></p><h2 id="三-添加虚拟机硬盘"><a href="#三-添加虚拟机硬盘" class="headerlink" title="三. 添加虚拟机硬盘"></a>三. 添加虚拟机硬盘</h2><h3 id="1、上传Openwrt镜像"><a href="#1、上传Openwrt镜像" class="headerlink" title="1、上传Openwrt镜像:"></a>1、上传Openwrt镜像:</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151026.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151027.png"></p><p>上传成功, 图中标记的是镜像存放位置<br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151029.png"></p><p>“local”和“local-lvm”存储空间的内容说明：</p><ul><li>local：VZDump备份文件, ISO镜像, 容器模板</li><li>local-lvm：磁盘映像, 容器</li></ul><p>其中local-lvm不能上传文件，只能用“qm importdisk”命令把镜像转换成虚拟磁盘并存储在里面（或创建磁盘和磁盘映射），这样做比上传到root根目录更便捷而且便于管理。</p><h3 id="2、查看上传镜像的目录："><a href="#2、查看上传镜像的目录：" class="headerlink" title="2、查看上传镜像的目录："></a>2、查看上传镜像的目录：</h3><p>点击”日志”</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151031.png"></p><p>查看刚才上传文件的日志</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151035.png"></p><p>看到刚才上传的文件存放位置</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151039.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">/var/lib/vz/template/iso/openwrt-buddha-version-v1_2023_-x86-64-generic-squashfs-uefi.img<br></code></pre></td></tr></table></figure><h3 id="3、把镜像转成虚拟磁盘并导入到虚拟机"><a href="#3、把镜像转成虚拟磁盘并导入到虚拟机" class="headerlink" title="3、把镜像转成虚拟磁盘并导入到虚拟机"></a>3、把镜像转成虚拟磁盘并导入到虚拟机</h3><p>选择“pve”根节点 &gt; shell &gt; 输入以下命令并回车：</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151041.png"></p><p>把镜像转成虚拟磁盘并导入到虚拟机</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151044.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151116.png"></p><p>命令模板</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">qm importdisk 虚拟机<span class="hljs-built_in">id</span> 镜像位置 local-lvm<br></code></pre></td></tr></table></figure><ul><li>qm importdisk是PVE导入磁盘到虚拟机的工具，</li><li>虚拟机id: 虚拟机的编号，</li><li>镜像位置: 是刚才上传Openwrt镜像的完整目录，</li><li>‘local-lvm’是PVE储存虚拟磁盘的存储空间。</li></ul><p>例如:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">qm importdisk 102 /var/lib/vz/template/iso/openwrt-buddha-version-v1_2023_-x86-64-generic-squashfs-uefi.img local-lvm<br></code></pre></td></tr></table></figure><h3 id="4、修改磁盘属性"><a href="#4、修改磁盘属性" class="headerlink" title="4、修改磁盘属性"></a>4、修改磁盘属性</h3><p>导入成功后,在openwrt虚拟机”硬件”里面可以见到”未使用的磁盘0”。需要修改磁盘属性</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151047.png"></p><p>修改磁盘属性</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151049.png"></p><p>改为SATA</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151214.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151050.png"></p><h3 id="5、修改虚拟机的引导顺序"><a href="#5、修改虚拟机的引导顺序" class="headerlink" title="5、修改虚拟机的引导顺序"></a>5、修改虚拟机的引导顺序</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151125.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151052.png"></p><p>点击OK, 完成设置</p><h3 id="6、启动虚拟机-测试正常运行-到此-完成安装"><a href="#6、启动虚拟机-测试正常运行-到此-完成安装" class="headerlink" title="6、启动虚拟机, 测试正常运行. 到此,完成安装."></a>6、启动虚拟机, 测试正常运行. 到此,完成安装.</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151054.png"></p><h2 id="四-登录openwrt命令行-修改ip地址"><a href="#四-登录openwrt命令行-修改ip地址" class="headerlink" title="四. 登录openwrt命令行,  修改ip地址"></a>四. 登录openwrt命令行,  修改ip地址</h2><p>选中openwrt虚拟机, 点击”<em>控制台”修改ip地址</em></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151055.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /etc/config/network<br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151057.png"></p><p>把 <code>option gateway &#39;192.168.5.1&#39;</code>改成自己需要的IP地址，如192.168.100.2，再按ESC键，再按：wq保存退出，重启即可。</p><h2 id="五-用浏览器登录Openwrt"><a href="#五-用浏览器登录Openwrt" class="headerlink" title="五. 用浏览器登录Openwrt"></a>五. 用浏览器登录Openwrt</h2><p>在浏览器中输入openwrt的<code>ip地址</code>, 即可登录openwrt</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151059.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151101.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230129151103.png"></p>]]></content>
    
    
    <categories>
      
      <category>折腾虚拟机PVE</category>
      
    </categories>
    
    
    <tags>
      
      <tag>虚拟机</tag>
      
      <tag>Linux</tag>
      
      <tag>PVE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>折腾PVE虚拟机系列: 02.创建Ubuntu LXC容器</title>
    <link href="/posts/5797774afeae/"/>
    <url>/posts/5797774afeae/</url>
    
    <content type="html"><![CDATA[<h2 id="0-查看LXC容器模板"><a href="#0-查看LXC容器模板" class="headerlink" title="0.查看LXC容器模板"></a>0.查看LXC容器模板</h2><p>点击模板, 可以查看有哪些LXC模板可以下载. </p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230128205125.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230128205129.png"></p><h2 id="1-创建lxc容器"><a href="#1-创建lxc容器" class="headerlink" title="1.创建lxc容器"></a>1.创建lxc容器</h2><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230128205131.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230128205133.png"></p><ul><li><p><code>CT ID</code>: 默认即可</p></li><li><p><code>主机名</code>: lxc容器名称</p></li><li><p><code>密码</code>: lxc系统登录密码. 可以理解为虚拟出来的linux系统登录密码</p></li><li><p><code>确认密码</code>: 需要和密码一致</p></li></ul><h3 id="选择系统"><a href="#选择系统" class="headerlink" title="选择系统"></a>选择系统</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230128205136.png"></p><h3 id="设置系统磁盘大小"><a href="#设置系统磁盘大小" class="headerlink" title="设置系统磁盘大小"></a>设置系统磁盘大小</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230128205141.png"></p><h3 id="设置CPU核心数量"><a href="#设置CPU核心数量" class="headerlink" title="设置CPU核心数量"></a>设置CPU核心数量</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230128205138.png"></p><h3 id="设置内存大小"><a href="#设置内存大小" class="headerlink" title="设置内存大小"></a>设置内存大小</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230128205146.png"></p><h3 id="设置网络"><a href="#设置网络" class="headerlink" title="设置网络"></a>设置网络</h3><p>设置静态IP和网关<br>取消防火墙<br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230128205212.png"></p><ul><li><code>IPv4/CIDR</code>:  填写IP地址, 例如: 192.168.80.7/24</li><li><code>网关(IPv4)</code>: 填写网关. 如果不知道填什么,填主路由IP地址</li></ul><h3 id="设置DNS"><a href="#设置DNS" class="headerlink" title="设置DNS"></a>设置DNS</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230128205147.png"></p><h3 id="如果确定配置-点击完成"><a href="#如果确定配置-点击完成" class="headerlink" title="如果确定配置,点击完成"></a>如果确定配置,点击完成</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20230128205214.png"></p><h2 id="2-解决Ubuntu的中文乱码问题"><a href="#2-解决Ubuntu的中文乱码问题" class="headerlink" title="2. 解决Ubuntu的中文乱码问题"></a>2. 解决Ubuntu的中文乱码问题</h2><ol><li>安装中文支持包<code>language-pack-zh-hans</code></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo apt-get install language-pack-zh-hans<br></code></pre></td></tr></table></figure><ol start="2"><li>修改<code>/etc/environment</code>（在文件的末尾追加）：</li></ol><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs txt">LANG=&quot;zh_CN.UTF-8&quot;<br>LANGUAGE=&quot;zh_CN:zh:en_US:en&quot;<br></code></pre></td></tr></table></figure><ol start="3"><li>修改<code>/var/lib/locales/supported.d/local</code>(没有这个文件就新建，同样在末尾追加)：</li></ol><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs txt">en_US.UTF-8 UTF-8<br>zh_CN.UTF-8 UTF-8<br>zh_CN.GBK GBK<br>zh_CN GB2312<br></code></pre></td></tr></table></figure><ol start="4"><li>最后，执行命令：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo locale-gen<br></code></pre></td></tr></table></figure><p>对于中文乱码是空格的情况，安装中文字体解决。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo apt-get install fonts-droid-fallback ttf-wqy-zenhei ttf-wqy-microhei fonts-arphic-ukai fonts-arphic-uming<br></code></pre></td></tr></table></figure><h2 id="3-解决Linux-systemd-resolve占用53端口问题"><a href="#3-解决Linux-systemd-resolve占用53端口问题" class="headerlink" title="3. 解决Linux systemd-resolve占用53端口问题"></a>3. 解决Linux systemd-resolve占用53端口问题</h2><p>在Linux系统中有些软件（如：Dnsmasq解锁Netflix中的Dns等服务）可能要用到53的端口，但有些系统提示已使用（required port 53 already in use ）。</p><p>查看53端口是不是被<code>systemd-resolved</code>占用了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">netstat -tlunp | grep 53 <br></code></pre></td></tr></table></figure><p>如果是，下面是解决方法可以试试看对你有没有帮助。</p><ol><li>先停用<code>systemd-resolved</code>服务</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">systemctl stop systemd-resolved<br></code></pre></td></tr></table></figure><ol start="2"><li>编辑<code>/etc/systemd/resolved.conf</code>文件</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /etc/systemd/resolved.conf<br></code></pre></td></tr></table></figure><ol start="3"><li>换下面说明更改，然后按一下“esc”键，再输入“:wq”（不要输入引号），回车保存即可。</li></ol><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[Resolve]</span><br><span class="hljs-attr">DNS</span>=<span class="hljs-number">8.8</span>.<span class="hljs-number">8.8</span>  <span class="hljs-comment">#取消注释，增加dns</span><br><span class="hljs-comment">#FallbackDNS=</span><br><span class="hljs-comment">#Domains=</span><br><span class="hljs-comment">#LLMNR=no</span><br><span class="hljs-comment">#MulticastDNS=no</span><br><span class="hljs-comment">#DNSSEC=no</span><br><span class="hljs-comment">#Cache=yes</span><br><span class="hljs-attr">DNSStubListener</span>=<span class="hljs-literal">no</span>  <span class="hljs-comment">#取消注释，把yes改为no</span><br></code></pre></td></tr></table></figure><ol start="4"><li>最后运行下面命令即可。</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ln</span> -sf /run/systemd/resolve/resolv.conf /etc/resolv.conf<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>折腾虚拟机PVE</category>
      
    </categories>
    
    
    <tags>
      
      <tag>虚拟机</tag>
      
      <tag>Linux</tag>
      
      <tag>PVE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>折腾PVE虚拟机系列: 01.安装PVE</title>
    <link href="/posts/7ab3c7c5ea19/"/>
    <url>/posts/7ab3c7c5ea19/</url>
    
    <content type="html"><![CDATA[<h2 id="PVE是什么"><a href="#PVE是什么" class="headerlink" title="PVE是什么"></a>PVE是什么</h2><p><code>Proxmox VE（以下简称为PVE）</code>，是一个款开源虚拟化管理软件，和ESXI类似，简单的说就是用来开设和管理虚拟机的。</p><p>轻量、功能丰富和不挑硬件是PVE相比ESXi最大的优势，只后面配置虚拟机的过程中需要使用一些命令行，但是坑比EXSi少很多，总体过程轻松愉快，家用环境强烈推荐PVE。</p><h2 id="系统要求"><a href="#系统要求" class="headerlink" title="系统要求"></a>系统要求</h2><p>PVE硬件方面要求最低64位CPU，内存1GB以上，附加分配给客户机所需的内存，CPU虚拟化技术不是必须的，但是最好有。J3455主板加个千兆网卡跑软路由和黑群晖是够用的，内网能跑满千兆。</p><ul><li>CPU: 64bit (Intel EMT64 or AMD64)</li><li>Intel VT/AMD-V capable CPU/Mainboard for KVM full virtualization support</li><li>RAM: 1 GB RAM, plus additional RAM used for guests</li></ul><h2 id="PVE下载地址"><a href="#PVE下载地址" class="headerlink" title="PVE下载地址"></a>PVE下载地址</h2><p>下载地址：<a href="https://www.proxmox.com/en/downloads/category/iso-images-pve">https://www.proxmox.com/en/downloads/category/iso-images-pve</a></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204220927.png" alt="image-20221204201301077"></p><h2 id="安装过程"><a href="#安装过程" class="headerlink" title="安装过程"></a>安装过程</h2><p>以下教程是教大家如何把PVE安装到物理机上.</p><p>我喜欢用<code>Ventoy</code>,  所以以下教程是基于U盘使用Ventoy启动iso文件安装.</p><blockquote><p>Ventoy 是一款开源免费的可启动U盘制作工具，它可以将 U 盘变成一个多功能启动盘。使用 Ventoy，您可以将多个操作系统镜像文件（例如 Windows、Linux 发行版等）直接复制到 U 盘，无需进行任何格式化或其他操作。Ventoy 支持多种镜像格式和多种操作系统，并具有快速启动等特点，是装机、维护电脑的必备工具。</p></blockquote><h3 id="1-前提准备"><a href="#1-前提准备" class="headerlink" title="1. 前提准备"></a>1. 前提准备</h3><ul><li><p>准备一个U盘  (建议不低于8G容量)</p></li><li><p>下载<code>Ventoy</code>: <a href="https://www.ventoy.net/cn/download.html">https://www.ventoy.net/cn/download.html</a></p></li></ul><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204220934.png" alt="image-20221204201856742"></p><ul><li>下载<code>微PE</code>: <a href="https://www.wepe.com.cn/download.html">https://www.wepe.com.cn/download.html</a><br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204220938.png" alt="image-20221204202028540"></li><li>下载<code>pve.iso</code>(参考上面<strong>PVE下载地址</strong>)</li></ul><h3 id="2-在U盘安装Ventoy"><a href="#2-在U盘安装Ventoy" class="headerlink" title="2. 在U盘安装Ventoy"></a>2. 在U盘安装Ventoy</h3><blockquote><p><strong>注意:  会格式化U盘里面的东西. 如果U盘有重要数据,请提前备份好</strong></p></blockquote><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204220940.png" alt="image-20221204202738000"></p><ul><li><code>设备</code>选择: U盘</li><li>点击<code>安装</code> </li></ul><h3 id="3-制作微PE-iso"><a href="#3-制作微PE-iso" class="headerlink" title="3. 制作微PE_iso"></a>3. 制作微PE_iso</h3><ul><li><p>打开<code>微PE工具箱</code></p></li><li><p>选择<code>生成可启动ISO</code>,  生成微PE的iso文件.</p></li></ul><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204220943.png" alt="image-20221204203234093"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204220945.png" alt="image-20221204203435328"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204220947.png" alt="image-20221204203626877"></p><h3 id="4-将iso文件放入U盘"><a href="#4-将iso文件放入U盘" class="headerlink" title="4. 将iso文件放入U盘"></a>4. 将iso文件放入U盘</h3><p>把<code>微PE</code>和<code>PVE</code>的iso文件放入安装Ventoy的U盘</p><h3 id="5-把U盘插到工控机-设置开机读取U盘"><a href="#5-把U盘插到工控机-设置开机读取U盘" class="headerlink" title="5. 把U盘插到工控机, 设置开机读取U盘"></a>5. 把U盘插到工控机, 设置开机读取U盘</h3><p>把刚才制作好Ventoy的U盘插在工控机上.</p><p>启动工控机,开机读取U盘</p><p>以下图片,仅供参考.</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204220949.png" alt="image-20221204211748140"></p><h3 id="6-使用微PE-格式化工控机的硬盘"><a href="#6-使用微PE-格式化工控机的硬盘" class="headerlink" title="6. 使用微PE,格式化工控机的硬盘"></a>6. 使用微PE,格式化工控机的硬盘</h3><p>进入Ventoy, 选择wepe.iso</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204220952.png" alt="image-20221204212109807"></p><p>打开分区工具, 删除所有分区</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204220954.png" alt="image-20221204212655300"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204221001.png" alt="image-20221204212911828"></p><p>删除完所有分区,记得点击<code>保存更改</code></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204220956.png" alt="image-20221204213001421"></p><p>之后启动工控机</p><h3 id="7-在Ventoy选择pve-iso-安装PVE"><a href="#7-在Ventoy选择pve-iso-安装PVE" class="headerlink" title="7. 在Ventoy选择pve.iso, 安装PVE"></a>7. 在Ventoy选择pve.iso, 安装PVE</h3><p>进入Ventoy界面,选择pve.iso</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204221006.png" alt="image-20221204212109807"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204221011.png" alt="image-20221204213804110"></p><h4 id="7-1-选择硬盘"><a href="#7-1-选择硬盘" class="headerlink" title="7.1 选择硬盘"></a>7.1 选择硬盘</h4><p>选择把PVE安装到那块硬盘.(我的工控机只有一块硬盘, 我这里选择默认)</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204221023.png" alt="image-20221204213853948"></p><h4 id="7-2-选择时间和地区"><a href="#7-2-选择时间和地区" class="headerlink" title="7.2 选择时间和地区"></a>7.2 选择时间和地区</h4><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204221026.png" alt="image-20221204214042494"></p><h4 id="7-3-设置PVE密码"><a href="#7-3-设置PVE密码" class="headerlink" title="7.3 设置PVE密码"></a>7.3 设置PVE密码</h4><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204221033.png" alt="image-20221204214120644"></p><ul><li>password 密码</li><li>comfirm 确认密码</li><li>email 邮箱是企业服务邮箱. 但个人使用一般用不到. 所以随便填写就好<h4 id="7-4-设置网口"><a href="#7-4-设置网口" class="headerlink" title="7.4 设置网口"></a>7.4 设置网口</h4></li></ul><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204221036.png" alt="image-20221204214404925"></p><ul><li>mangement interface: 管理网口. 默认现在工控插着网线的网口.(我的工控机只插了一个网口)</li><li>Hosename: 域名. 之后可以通过域名访问pve</li><li>id address: 工控机ip地址</li><li>getway: 网关, (一般设置主路由ip)</li><li>dns server: dns服务器 (一般设置主路由ip)</li></ul><h4 id="7-5-之后一路下一步-安装PVE系统"><a href="#7-5-之后一路下一步-安装PVE系统" class="headerlink" title="7.5 之后一路下一步,安装PVE系统"></a>7.5 之后一路<code>下一步</code>,安装PVE系统</h4><h4 id="7-6-安装成功"><a href="#7-6-安装成功" class="headerlink" title="7.6 安装成功"></a>7.6 安装成功</h4><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221204221040.png" alt="image-20221204215144157"></p><h2 id="使用浏览器访问PVE"><a href="#使用浏览器访问PVE" class="headerlink" title="使用浏览器访问PVE"></a>使用浏览器访问PVE</h2><p>pve管理页面的地址格式<code>https://ip:8006/</code></p><p>由于我设置pve的访问地址是192.168.50.5, 所以我访问pve地址是<a href="https://192.168.50.5:8006/">https://192.168.50.5:8006/</a></p><blockquote><p>注意: 第一次打开pve地址一定要输入https开头的地址</p></blockquote><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221205093445.png" alt="image-20221205093211780"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221205093441.png" alt="image-20221205093236231"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20221205093755.png" alt="image-20221204215812935"></p><ul><li><p>账号是<code>root</code></p></li><li><p>密码是刚才设置的<code>pve密码</code></p></li></ul>]]></content>
    
    
    <categories>
      
      <category>折腾虚拟机PVE</category>
      
    </categories>
    
    
    <tags>
      
      <tag>虚拟机</tag>
      
      <tag>Linux</tag>
      
      <tag>PVE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>批量压缩图片软件Imagine</title>
    <link href="/posts/1d57a4fa1ca3/"/>
    <url>/posts/1d57a4fa1ca3/</url>
    
    <content type="html"><![CDATA[<h2 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h2><p><strong>Imagine</strong>是一款可以批量压缩多张图片的工具.可以离线使用.</p><h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ul><li>Multi format (JPEG, PNG, WebP)</li><li>Format conversion</li><li>Cross platform</li><li>GUI</li><li>Batch optimization</li><li>i18n (English, 简体中文, Nederlands, Español, Français, Italiano, Deutsch)</li></ul><h3 id="压缩效果"><a href="#压缩效果" class="headerlink" title="压缩效果"></a>压缩效果</h3><ul><li>压缩前</li></ul><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220311093149.png"></p><ul><li>压缩后</li></ul><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220311093147.png"></p><h2 id="官方地址"><a href="#官方地址" class="headerlink" title="官方地址"></a>官方地址</h2><ul><li><a href="https://github.com/meowtec/Imagine">官方地址</a></li><li><a href="https://github.com/meowtec/Imagine/releases">下载地址</a></li></ul><p>Windows系统选择下载免安装版Imagine-xxx.exe</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220311093150.png"></p><h2 id="软件截图"><a href="#软件截图" class="headerlink" title="软件截图"></a>软件截图</h2><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220311093154.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220311093156.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220311093158.png"></p>]]></content>
    
    
    <categories>
      
      <category>软件</category>
      
    </categories>
    
    
    <tags>
      
      <tag>图片</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git版本回退</title>
    <link href="/posts/3c12592f5b7e/"/>
    <url>/posts/3c12592f5b7e/</url>
    
    <content type="html"><![CDATA[<h2 id="回退到上个版本"><a href="#回退到上个版本" class="headerlink" title="回退到上个版本"></a>回退到上个版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git reset --hard HEAD^ <br></code></pre></td></tr></table></figure><h2 id="回退到指定版本"><a href="#回退到指定版本" class="headerlink" title="回退到指定版本"></a>回退到指定版本</h2><p>格式: <code>git reset --hard 版本号 </code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git reset --hard 9495f0c<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Git笔记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python的Excel库, Pandas使用攻略</title>
    <link href="/posts/f5098dab4c02/"/>
    <url>/posts/f5098dab4c02/</url>
    
    <content type="html"><![CDATA[<h2 id="Pandas是什么"><a href="#Pandas是什么" class="headerlink" title="Pandas是什么"></a>Pandas是什么</h2><blockquote><p>Pandas 库是一个免费、开源的第三方 Python 库，是 Python 数据分析必不可少的工具之一，它为 Python 数据分析提供了高性能，且易于使用的数据结构，即 Series 和 DataFrame。Pandas 自诞生后被应用于众多的领域，比如金融、统计学、社会科学、建筑工程等。</p><p>Pandas 库基于 Python NumPy 库开发而来，因此，它可以与 Python 的科学计算库配合使用。Pandas 提供了两种数据结构，分别是 Series（一维数组结构）与 DataFrame（二维数组结构），这两种数据结构极大地增强的了 Pandas 的数据分析能力。在本套教程中，我们将学习 Python Pandas 的各种方法、特性以及如何在实践中运用它们。</p><p>出自: <a href="http://c.biancheng.net/pandas/">http://c.biancheng.net/pandas/</a></p></blockquote><h2 id="安装Pandas"><a href="#安装Pandas" class="headerlink" title="安装Pandas"></a>安装Pandas</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install xlwt<br>pip install openpyxl<br>pip install pandas<br></code></pre></td></tr></table></figure><h2 id="读取文件"><a href="#读取文件" class="headerlink" title="读取文件"></a>读取文件</h2><h3 id="读取Excel"><a href="#读取Excel" class="headerlink" title="读取Excel"></a>读取Excel</h3><h4 id="常规读取"><a href="#常规读取" class="headerlink" title="常规读取"></a>常规读取</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br></code></pre></td></tr></table></figure><h4 id="读取无表头的excel"><a href="#读取无表头的excel" class="headerlink" title="读取无表头的excel"></a>读取无表头的excel</h4><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211218223652.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>, header=<span class="hljs-literal">None</span>) <br></code></pre></td></tr></table></figure><h4 id="错位读取"><a href="#错位读取" class="headerlink" title="错位读取"></a>错位读取</h4><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211218223648.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>, header=<span class="hljs-number">2</span>) <span class="hljs-comment"># 由第三行开始读取</span><br></code></pre></td></tr></table></figure><h3 id="读取csv"><a href="#读取csv" class="headerlink" title="读取csv"></a>读取csv</h3><p>去除csv空格(去空格读取)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table = pd.read_csv(<span class="hljs-string">&quot;./student.xlsx&quot;</span>, sep=<span class="hljs-string">&quot;\s*,\s*&quot;</span>)  <span class="hljs-comment"># sep=&quot;\s*,\s*&quot;去除csv空格</span><br></code></pre></td></tr></table></figure><h2 id="保存文件"><a href="#保存文件" class="headerlink" title="保存文件"></a>保存文件</h2><h3 id="保存excel文件"><a href="#保存excel文件" class="headerlink" title="保存excel文件"></a>保存excel文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table1 = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>table1.to_excel(<span class="hljs-string">&quot;./table.xlsx&quot;</span>, index=<span class="hljs-literal">False</span>, sheet_name=<span class="hljs-string">&quot;sheet1&quot;</span>) <br></code></pre></td></tr></table></figure><ul><li>index=False不写<code>index</code>列</li></ul><h3 id="同时写多个sheet"><a href="#同时写多个sheet" class="headerlink" title="同时写多个sheet"></a>同时写多个sheet</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table1 = pd.read_excel(<span class="hljs-string">&quot;./student1.xlsx&quot;</span>)<br>table2 = pd.read_excel(<span class="hljs-string">&quot;./student2.xlsx&quot;</span>)<br>table3 = pd.read_excel(<span class="hljs-string">&quot;./student3.xlsx&quot;</span>)<br><br>writer = pd.ExcelWriter(<span class="hljs-string">r&quot;./temp/output.xlsx&quot;</span>)<br>table1.to_excel(writer, index=<span class="hljs-literal">False</span>, sheet_name=<span class="hljs-string">&quot;sheet1&quot;</span>) <br>table2.to_excel(writer, index=<span class="hljs-literal">False</span>, sheet_name=<span class="hljs-string">&quot;sheet2&quot;</span>)<br>table3.to_excel(writer, index=<span class="hljs-literal">False</span>, sheet_name=<span class="hljs-string">&quot;sheet3&quot;</span>)<br>writer.save()<br>writer.close()<br></code></pre></td></tr></table></figure><h2 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h2><p>数据筛选、过滤</p><h3 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>new_table = table.loc[table[<span class="hljs-string">&quot;列名&quot;</span>].apply(<span class="hljs-keyword">lambda</span> x: x == <span class="hljs-string">&quot;数据值&quot;</span>)]   <br></code></pre></td></tr></table></figure><h3 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>new_table = table.loc[table[<span class="hljs-string">&quot;语文&quot;</span>] &lt; <span class="hljs-number">60</span>]  <span class="hljs-comment"># 返回语文少于60分的数据</span><br></code></pre></td></tr></table></figure><h3 id="多条件查询"><a href="#多条件查询" class="headerlink" title="多条件查询"></a>多条件查询</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">file = <span class="hljs-string">&#x27;./excel/books.xlsx&#x27;</span><br>books = pd.read_excel(file, index_col=<span class="hljs-string">&quot;id&quot;</span>)<br>r = books.loc[books[<span class="hljs-string">&#x27;价格&#x27;</span>].apply(<span class="hljs-keyword">lambda</span> x: x &lt; <span class="hljs-number">200</span>)] \ <br>    .loc[books[<span class="hljs-string">&#x27;价格&#x27;</span>].apply(<span class="hljs-keyword">lambda</span> x: x &gt; <span class="hljs-number">100</span>)]<br><span class="hljs-built_in">print</span>(r)<br></code></pre></td></tr></table></figure><h2 id="行操作"><a href="#行操作" class="headerlink" title="行操作"></a>行操作</h2><h3 id="追加其他表数据"><a href="#追加其他表数据" class="headerlink" title="追加其他表数据"></a>追加其他表数据</h3><p>向下合并其他表的数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table1 = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>, sheet_name=<span class="hljs-string">&quot;Sheet2&quot;</span>)<br>table2  = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>, sheet_name=<span class="hljs-string">&quot;Sheet3&quot;</span>)<br>table3 = table1.append(table2).reset_index(drop=<span class="hljs-literal">True</span>) <span class="hljs-comment"># 合并行,重新设置index</span><br></code></pre></td></tr></table></figure><p>动态合并多个表格(工具函数)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">PandasUtil</span>:<br><span class="hljs-meta">    @staticmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">merge_tables</span>(<span class="hljs-params">tables</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        合并表格(相同格式,上下合并)</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        result = <span class="hljs-literal">None</span><br>        <span class="hljs-keyword">for</span> table <span class="hljs-keyword">in</span> tables:<br>            <span class="hljs-keyword">if</span> result <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>                result = table<br>                <span class="hljs-keyword">continue</span><br>            result = result.append(table, ignore_index=<span class="hljs-literal">True</span>)<br>        result.reset_index(drop=<span class="hljs-literal">True</span>)<br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><h3 id="新建新行"><a href="#新建新行" class="headerlink" title="新建新行"></a>新建新行</h3><p>添加新行,{“id”:7, “name”:”ken”, “语文”:100, “数学”:90, “英语”:70}</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>students = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>stu = pd.Series(&#123;<span class="hljs-string">&quot;id&quot;</span>:<span class="hljs-number">7</span>, <span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;ken&quot;</span>, <span class="hljs-string">&quot;语文&quot;</span>:<span class="hljs-number">100</span>, <span class="hljs-string">&quot;数学&quot;</span>:<span class="hljs-number">90</span>, <span class="hljs-string">&quot;英语&quot;</span>:<span class="hljs-number">70</span>&#125;)  <span class="hljs-comment"># 新行数据</span><br>students =students.append(stu, ignore_index=<span class="hljs-literal">True</span> ) <span class="hljs-comment"># 追加新行</span><br><span class="hljs-built_in">print</span>(students)<br></code></pre></td></tr></table></figure><h3 id="修改单元格数据"><a href="#修改单元格数据" class="headerlink" title="修改单元格数据"></a>修改单元格数据</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>students = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>students.at[<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;name&#x27;</span>] = <span class="hljs-string">&quot;kelly&quot;</span> <span class="hljs-comment"># 修改Ben1名称,改为&quot;kelly&quot;</span><br><span class="hljs-built_in">print</span>(students)<br></code></pre></td></tr></table></figure><h3 id="修改一行数据"><a href="#修改一行数据" class="headerlink" title="修改一行数据"></a>修改一行数据</h3><p>修改第一行数据为: {“id”:100, “name”:”Vincent”, “语文”:100}</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>students = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>students.iloc[<span class="hljs-number">0</span>] = pd.Series(&#123;<span class="hljs-string">&quot;id&quot;</span>:<span class="hljs-number">100</span>, <span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Vincent&quot;</span>, <span class="hljs-string">&quot;语文&quot;</span>:<span class="hljs-number">100</span>&#125;)<br><br><span class="hljs-built_in">print</span>(students)<br></code></pre></td></tr></table></figure><h3 id="插入一行数据"><a href="#插入一行数据" class="headerlink" title="插入一行数据"></a>插入一行数据</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>students = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>new_student = pd.Series(&#123;<span class="hljs-string">&quot;id&quot;</span>:<span class="hljs-number">100</span>, <span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Boy1&quot;</span>, <span class="hljs-string">&quot;语文&quot;</span>:<span class="hljs-number">100</span>&#125;)  <span class="hljs-comment">### 插入的数据</span><br>part1 =  students[:<span class="hljs-number">3</span>]  <span class="hljs-comment"># 第1到2行,</span><br>part2 = students[<span class="hljs-number">3</span>:] <span class="hljs-comment"># 第3行到结尾行</span><br>students = part1 \<br>.append(new_student, ignore_index=<span class="hljs-literal">True</span>) \<br>.append(part2).reset_index(drop=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(students)<br></code></pre></td></tr></table></figure><h3 id="按条件删除数据"><a href="#按条件删除数据" class="headerlink" title="按条件删除数据"></a>按条件删除数据</h3><p>按条件删除行数据</p><h4 id="单条件删除"><a href="#单条件删除" class="headerlink" title="单条件删除"></a>单条件删除</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>remove_index = table.loc[table[<span class="hljs-string">&quot;列明&quot;</span>] == <span class="hljs-string">&quot;数据值&quot;</span>].index<br>table.drop(index=remove_index, inplace=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># 按条件删除数据</span><br><br></code></pre></td></tr></table></figure><h4 id="多条件删除"><a href="#多条件删除" class="headerlink" title="多条件删除"></a>多条件删除</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>remove_index = table[(table[<span class="hljs-string">&quot;收/支&quot;</span>] == <span class="hljs-string">&quot;支出&quot;</span>) &amp; (table[<span class="hljs-string">&quot;交易状态&quot;</span>] == <span class="hljs-string">&quot;交易关闭&quot;</span>)].index<br>table.drop(index=remove_index, inplace=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># 按条件删除数据</span><br></code></pre></td></tr></table></figure><h4 id="删除空行"><a href="#删除空行" class="headerlink" title="删除空行"></a>删除空行</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>table.dropna(subset=[<span class="hljs-string">&quot;交易时间&quot;</span>], inplace=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># 删除交易时间为空的数据</span><br></code></pre></td></tr></table></figure><h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><h4 id="单值排序"><a href="#单值排序" class="headerlink" title="单值排序"></a>单值排序</h4><p>按价格倒序排序</p><p>ascending=False 为倒序排序</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>file = <span class="hljs-string">&#x27;./excel/books.xlsx&#x27;</span><br>books = pd.read_excel(file)<br>books.sort_values(by=<span class="hljs-string">&quot;价格&quot;</span>, inplace=<span class="hljs-literal">True</span>, ascending=<span class="hljs-literal">False</span>)  <span class="hljs-comment"># 排序</span><br><span class="hljs-built_in">print</span>(books)<br><br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211219153526.png" alt="image-20211219124701631"></p><h4 id="多值排序"><a href="#多值排序" class="headerlink" title="多值排序"></a>多值排序</h4><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211219153528.png" alt="image-20211219125152086"></p><p>先按<code>是否值得</code>排序,再按<code>价格</code>排序</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">file = <span class="hljs-string">&#x27;./excel/books.xlsx&#x27;</span><br>books = pd.read_excel(file, index_col=<span class="hljs-string">&quot;id&quot;</span>)<br>books.sort_values(by=[<span class="hljs-string">&quot;是否值得&quot;</span>, <span class="hljs-string">&quot;价格&quot;</span>], inplace=<span class="hljs-literal">True</span>, ascending=[<span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>])  <span class="hljs-comment"># 排序</span><br><span class="hljs-built_in">print</span>(books)<br><br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211219153530.png" alt="image-20211219125513520"></p><h3 id="去重-查找重复数据"><a href="#去重-查找重复数据" class="headerlink" title="去重, 查找重复数据"></a>去重, 查找重复数据</h3><p><a href="https://gitee.com/vincent0214/pandas-notes/blob/master/21-%E6%B6%88%E9%99%A4%E9%87%8D%E5%A4%8D%E6%95%B0%E6%8D%AE__%E5%AE%9A%E4%BD%8D%E6%95%B0%E6%8D%AE.md">原文链接</a></p><h4 id="去掉重复数据"><a href="#去掉重复数据" class="headerlink" title="去掉重复数据"></a>去掉重复数据</h4><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221123950.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>students = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>students.drop_duplicates(subset=[<span class="hljs-string">&quot;name&quot;</span>], inplace=<span class="hljs-literal">True</span>) <span class="hljs-comment"># 删除重复数据</span><br><span class="hljs-built_in">print</span>(students)<br><br></code></pre></td></tr></table></figure><ul><li><p>subset=[“name”]  查询条件, 可以是多个列例如 subset=[“name”, “语文”, “数学”, “英语”]</p></li><li><p>keep=”first”   默认保留开头</p></li></ul><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221123956.png"></p><h4 id="查找重复项"><a href="#查找重复项" class="headerlink" title="查找重复项"></a>查找重复项</h4><ul><li>检查所有行是否重复</li></ul><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221130755.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>students = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>, sheet_name=<span class="hljs-string">&quot;Sheet2&quot;</span>)<br>dupe = students.duplicated(subset=[<span class="hljs-string">&quot;name&quot;</span>])<br><span class="hljs-built_in">print</span>(dupe)<br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221183505.png"></p><ul><li>查询重复行</li></ul><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221183507.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>students = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>, sheet_name=<span class="hljs-string">&quot;Sheet2&quot;</span>)<br>dupe = students.duplicated(subset=[<span class="hljs-string">&quot;name&quot;</span>])  <br><span class="hljs-built_in">print</span>(dupe[dupe==<span class="hljs-literal">True</span>])<br></code></pre></td></tr></table></figure><p>显示7-11行是重复数据</p><p>序列是由0开始数的, index为6表示excel表中的第7行数据</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221183509.png"></p><p>用<code>iloc[index]</code>定位重复数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>students = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>, sheet_name=<span class="hljs-string">&quot;Sheet2&quot;</span>)<br>dupe = students.duplicated(subset=[<span class="hljs-string">&quot;name&quot;</span>])  <br>dupe = dupe[dupe==<span class="hljs-literal">True</span>]<br><span class="hljs-built_in">print</span>(students.iloc[dupe.index])<br><br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221183513.png"></p><h3 id="定位数据"><a href="#定位数据" class="headerlink" title="定位数据"></a>定位数据</h3><p>使用<code>iloc</code><br>可以读取一行数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>, sheet_name=<span class="hljs-string">&quot;Sheet2&quot;</span>)<br>r = table.iloc[<span class="hljs-number">0</span>]   <span class="hljs-comment"># 获取第1行数据</span><br><span class="hljs-built_in">print</span>(r)<br></code></pre></td></tr></table></figure><ul><li><p>df.iloc[0] 第0行数据（series）</p></li><li><p>df.iloc[[0]] 第0行数据（dataframe）</p></li><li><p>df.iloc[[0, 1]] 第0、1行数据（dataframe）</p></li><li><p>df.iloc[:3] 前三行数据（dataframe）</p></li><li><p>df.iloc[[True, False, True]] 第0、2行数据（dataframe）</p></li></ul><p>使用<code>loc</code><br>要设置DataFream的index_col才能使用</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">df = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>, sheet_name=<span class="hljs-string">&quot;Sheet2&quot;</span>, index_col=<span class="hljs-string">&quot;name&quot;</span>) <span class="hljs-comment"># 需要设置index_col</span><br>r = df.loc[<span class="hljs-string">&quot;Dean&quot;</span>]<br><span class="hljs-built_in">print</span>(r)<br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221183521.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221183524.png"></p><h3 id="遍历数据"><a href="#遍历数据" class="headerlink" title="遍历数据"></a>遍历数据</h3><p>遍历每一行数据<br>迭代每一行数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br><span class="hljs-keyword">for</span> index, row <span class="hljs-keyword">in</span> table.iterrows():<br>    <span class="hljs-built_in">print</span>(index)<br>    <span class="hljs-built_in">print</span>(row[<span class="hljs-string">&quot;c1&quot;</span>])<br></code></pre></td></tr></table></figure><h2 id="列操作"><a href="#列操作" class="headerlink" title="列操作"></a>列操作</h2><h3 id="增加列"><a href="#增加列" class="headerlink" title="增加列"></a>增加列</h3><p>追加列</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>table[<span class="hljs-string">&quot;数学&quot;</span>] = <span class="hljs-number">100</span><br></code></pre></td></tr></table></figure><h3 id="列运算"><a href="#列运算" class="headerlink" title="列运算"></a>列运算</h3><p>计算新列, 列计算(计算列)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>file = <span class="hljs-string">&#x27;./excel/books.xlsx&#x27;</span><br>books = pd.read_excel(file)<br>books[<span class="hljs-string">&quot;优惠价&quot;</span>] = books[<span class="hljs-string">&quot;价格&quot;</span>] * books[<span class="hljs-string">&quot;折扣&quot;</span>]   <br></code></pre></td></tr></table></figure><p>使用匿名函数, 计算新列</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>file = <span class="hljs-string">&#x27;./excel/books.xlsx&#x27;</span><br>books = pd.read_excel(file, index_col=<span class="hljs-string">&quot;id&quot;</span>)<br>books[<span class="hljs-string">&quot;价格&quot;</span>] = books[<span class="hljs-string">&quot;价格&quot;</span>].apply(<span class="hljs-keyword">lambda</span> x: x + <span class="hljs-number">2</span>)   <br></code></pre></td></tr></table></figure><h3 id="判断列是否存在"><a href="#判断列是否存在" class="headerlink" title="判断列是否存在"></a>判断列是否存在</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;数学&quot;</span> <span class="hljs-keyword">in</span> table.columns)<br></code></pre></td></tr></table></figure><h3 id="删除列"><a href="#删除列" class="headerlink" title="删除列"></a>删除列</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>table.drop(columns=[<span class="hljs-string">&#x27;语文&#x27;</span>], inplace=<span class="hljs-literal">True</span>) <span class="hljs-comment"># 删除列</span><br></code></pre></td></tr></table></figure><h3 id="插入列"><a href="#插入列" class="headerlink" title="插入列"></a>插入列</h3><p>插入到第二列</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>students = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>students.insert(<span class="hljs-number">1</span>, column=<span class="hljs-string">&quot;年龄&quot;</span>, value=<span class="hljs-number">100</span>) <span class="hljs-comment"># 插入列</span><br><span class="hljs-built_in">print</span>(students)<br></code></pre></td></tr></table></figure><h3 id="调整列位置"><a href="#调整列位置" class="headerlink" title="调整列位置"></a>调整列位置</h3><p>调整<code>收/支</code>列到第一列</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">change_col_place</span>(<span class="hljs-params">table, name, new_place, new_name=<span class="hljs-literal">None</span></span>):<br>     <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">     移动列</span><br><span class="hljs-string">     table: 表格</span><br><span class="hljs-string">     name: 原列名</span><br><span class="hljs-string">     new_plack: 新位置</span><br><span class="hljs-string">     new_name: 新列名</span><br><span class="hljs-string">     &quot;&quot;&quot;</span><br>     val = table[name]<br>     table.drop(labels=[name], axis=<span class="hljs-number">1</span>, inplace=<span class="hljs-literal">True</span>)<br>     <span class="hljs-keyword">if</span> new_name <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>         table.insert(new_place, column=name, value=val)  <span class="hljs-comment"># 插入列</span><br>     <span class="hljs-keyword">else</span>:<br>         table.insert(new_place, column=new_name, value=val)  <span class="hljs-comment"># 插入列</span><br><br>table = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>change_col_place(table, <span class="hljs-string">&quot;收/支&quot;</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;收/支&quot;</span>)  <br></code></pre></td></tr></table></figure><h3 id="修改列名"><a href="#修改列名" class="headerlink" title="修改列名"></a>修改列名</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>table.rename(columns=&#123;<span class="hljs-string">&quot;旧列名1&quot;</span>:<span class="hljs-string">&quot;新列名1&quot;</span>, <span class="hljs-string">&quot;旧列名2&quot;</span>:<span class="hljs-string">&quot;新列名&quot;</span>&#125;, inplace=<span class="hljs-literal">True</span>) <span class="hljs-comment"># 修改列名 </span><br></code></pre></td></tr></table></figure><h3 id="批量修改列数据"><a href="#批量修改列数据" class="headerlink" title="批量修改列数据"></a>批量修改列数据</h3><p>修改列数据</p><p>案例: 把金额列的<code>¥</code>去掉</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>table = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>)<br>table[<span class="hljs-string">&quot;金额&quot;</span>] =  table[<span class="hljs-string">&quot;金额&quot;</span>].apply(<span class="hljs-keyword">lambda</span> x: x.replace(<span class="hljs-string">&quot;¥&quot;</span>, <span class="hljs-string">&quot;&quot;</span>))<br></code></pre></td></tr></table></figure><h3 id="拆分列"><a href="#拆分列" class="headerlink" title="拆分列"></a>拆分列</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>books = pd.read_excel(<span class="hljs-string">&quot;./books.xlsx&quot;</span>, sheet_name=<span class="hljs-string">&quot;Sheet2&quot;</span>)<br>df = books[<span class="hljs-string">&#x27;name&#x27;</span>].<span class="hljs-built_in">str</span>.split(expand=<span class="hljs-literal">True</span>) <span class="hljs-comment"># 拆分name列</span><br>books[<span class="hljs-string">&quot;first name&quot;</span>] = df[<span class="hljs-number">0</span>]  <span class="hljs-comment"># 增加列 first name</span><br>books[<span class="hljs-string">&quot;last name&quot;</span>] = df[<span class="hljs-number">1</span>]   <span class="hljs-comment"># 增加列 last name</span><br><span class="hljs-built_in">print</span>(books)<br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221100940.png"><br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221100949.png"></p><p>拆分列api原文<br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221100954.png"></p><ul><li>pat: 字符串或正则表达式以拆分。如果未指定，则在空格上拆分。</li><li>n: 拆分后保留多少个元素. -1表示保留全部</li><li>expand: 将拆分字符串展开到单独的列中 expand一般设置为True</li></ul><h3 id="合并列"><a href="#合并列" class="headerlink" title="合并列"></a>合并列</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>student = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>, sheet_name=<span class="hljs-string">&quot;Sheet1&quot;</span>)<br>student[<span class="hljs-string">&quot;name&quot;</span>] = student[<span class="hljs-string">&quot;first name&quot;</span>] +<span class="hljs-string">&quot; &quot;</span>+ student[<span class="hljs-string">&quot;first name&quot;</span>]<br><span class="hljs-built_in">print</span>(studentr) <br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221102441.png"></p><h2 id="求总和和求平均值"><a href="#求总和和求平均值" class="headerlink" title="求总和和求平均值"></a>求总和和求平均值</h2><h3 id="按行求和"><a href="#按行求和" class="headerlink" title="按行求和"></a>按行求和</h3><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">pandas.DataFrame.<span class="hljs-built_in">sum</span><br></code></pre></td></tr></table></figure><blockquote><p>原文地址: <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.sum.html#pandas-dataframe-sum">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.sum.html#pandas-dataframe-sum</a></p></blockquote><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221123913.png" alt="image-20211221120420668"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221121552.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>student = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>, sheet_name=<span class="hljs-string">&quot;Sheet2&quot;</span>)<br>row_sum = student[[<span class="hljs-string">&quot;语文&quot;</span>, <span class="hljs-string">&quot;数学&quot;</span>, <span class="hljs-string">&quot;英语&quot;</span>]].<span class="hljs-built_in">sum</span>(axis=<span class="hljs-number">1</span>) <span class="hljs-comment"># axis=1按行计算.</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(student[[<span class="hljs-string">&quot;语文&quot;</span>, <span class="hljs-string">&quot;数学&quot;</span>, <span class="hljs-string">&quot;英语&quot;</span>]])) <span class="hljs-comment"># 输出: Dataframe</span><br><span class="hljs-built_in">print</span>(row_sum) <br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221121556.png" alt="image-20211221115936128"></p><h3 id="按行求平均值"><a href="#按行求平均值" class="headerlink" title="按行求平均值"></a>按行求平均值</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221121558.png" alt="image-20211221120816906"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>student = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>, sheet_name=<span class="hljs-string">&quot;Sheet2&quot;</span>)<br>row_avg = student[[<span class="hljs-string">&quot;语文&quot;</span>, <span class="hljs-string">&quot;数学&quot;</span>, <span class="hljs-string">&quot;英语&quot;</span>]].mean(axis=<span class="hljs-number">1</span>) <span class="hljs-comment"># axis=1按行计算.</span><br><span class="hljs-built_in">print</span>(row_avg) <br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221121559.png" alt="image-20211221120834124"></p><h3 id="计算列总和"><a href="#计算列总和" class="headerlink" title="计算列总和"></a>计算列总和</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221121602.png" alt="image-20211221121040193"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>student = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>, sheet_name=<span class="hljs-string">&quot;Sheet2&quot;</span>)<br>col_sum = student[[<span class="hljs-string">&quot;语文&quot;</span>, <span class="hljs-string">&quot;数学&quot;</span>, <span class="hljs-string">&quot;英语&quot;</span>]].<span class="hljs-built_in">sum</span>(axis=<span class="hljs-number">0</span>) <span class="hljs-comment"># axis=1按行计算.</span><br><span class="hljs-built_in">print</span>(col_sum) <br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221121603.png" alt="image-20211221121158046"></p><h3 id="计算列平均"><a href="#计算列平均" class="headerlink" title="计算列平均"></a>计算列平均</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221121605.png" alt="image-20211221121309020"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>student = pd.read_excel(<span class="hljs-string">&quot;./student.xlsx&quot;</span>, sheet_name=<span class="hljs-string">&quot;Sheet2&quot;</span>)<br>col_avg = student[[<span class="hljs-string">&quot;语文&quot;</span>, <span class="hljs-string">&quot;数学&quot;</span>, <span class="hljs-string">&quot;英语&quot;</span>]].mean(axis=<span class="hljs-number">0</span>) <span class="hljs-comment"># axis=1按行计算.</span><br><span class="hljs-built_in">print</span>(col_avg) <br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211221121606.png" alt="image-20211221121439004"></p><h2 id="多表联合（从VLOOKUP到JOIN）"><a href="#多表联合（从VLOOKUP到JOIN）" class="headerlink" title="多表联合（从VLOOKUP到JOIN）"></a>多表联合（从VLOOKUP到JOIN）</h2><p><a href="https://gitee.com/vincent0214/pandas-notes/blob/master/17-%E5%A4%9A%E8%A1%A8%E8%81%94%E5%90%88%EF%BC%88%E4%BB%8EVLOOKUP%E5%88%B0JOIN%EF%BC%89.md">多表联合（从VLOOKUP到JOIN）</a></p><h2 id="旋转数据表-行列转换"><a href="#旋转数据表-行列转换" class="headerlink" title="旋转数据表(行列转换)"></a>旋转数据表(行列转换)</h2><p><a href="https://gitee.com/vincent0214/pandas-notes/blob/master/17-%E5%A4%9A%E8%A1%A8%E8%81%94%E5%90%88%EF%BC%88%E4%BB%8EVLOOKUP%E5%88%B0JOIN%EF%BC%89.md">旋转数据表(行列转换)</a></p><h2 id="分组统计-透视表"><a href="#分组统计-透视表" class="headerlink" title="分组统计,透视表"></a>分组统计,透视表</h2><p><a href="https://gitee.com/vincent0214/pandas-notes/blob/master/23-%E5%88%86%E7%BB%84,%E9%80%8F%E8%A7%86%E8%A1%A8.md">分组统计,透视表</a></p><h2 id="常用的文件操作函数"><a href="#常用的文件操作函数" class="headerlink" title="常用的文件操作函数"></a>常用的文件操作函数</h2><p>文件工具类</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> shutil<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FileUtil</span>:<br><span class="hljs-meta">    @staticmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">scan_file</span>(<span class="hljs-params">path</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        递归扫描文件夹下的所有文件</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        files = []<br><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">_scan_file</span>(<span class="hljs-params">path</span>):<br>            <span class="hljs-keyword">for</span> file_name <span class="hljs-keyword">in</span> os.listdir(path):<br>                file_path = path + <span class="hljs-string">&quot;/&quot;</span> + file_name<br>                <span class="hljs-keyword">if</span> os.path.isdir(file_path):   <br>                    _scan_file(file_path)<br>                <span class="hljs-keyword">else</span>:<br>                    file = File(file_path)<br>                    files.append(file)<br><br>        _scan_file(path)<br>        <span class="hljs-keyword">return</span> files<br><br><span class="hljs-meta">    @staticmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">clean_dir</span>(<span class="hljs-params">path</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        清空文件夹</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> os.path.exists(path):<br>            shutil.rmtree(path)   <span class="hljs-comment"># 删除目录</span><br>        os.mkdir(path)  <span class="hljs-comment"># 创建目录</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">File</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, path</span>):<br>        self.name = os.path.basename(path)<br>        self.path = path<br></code></pre></td></tr></table></figure><h2 id="其他网站"><a href="#其他网站" class="headerlink" title="其他网站"></a>其他网站</h2><ul><li><a href="http://c.biancheng.net/pandas/what-is-pandas.html">http://c.biancheng.net/pandas/what-is-pandas.html</a></li><li><a href="https://www.runoob.com/pandas/pandas-tutorial.html">https://www.runoob.com/pandas/pandas-tutorial.html</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Python笔记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Excel</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>快速生成视频字幕和修改字幕</title>
    <link href="/posts/5c741d54607c/"/>
    <url>/posts/5c741d54607c/</url>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p><strong>pyTranscriber</strong>快速为无字幕的视频生成字幕</p><p><strong>arctime</strong>用来编辑字幕</p><h2 id="生成字幕"><a href="#生成字幕" class="headerlink" title="生成字幕"></a>生成字幕</h2><h3 id="pyTranscriber"><a href="#pyTranscriber" class="headerlink" title="pyTranscriber"></a>pyTranscriber</h3><p><a href="https://github.com/raryelcostasouza/pyTranscriber/releases">https://github.com/raryelcostasouza/pyTranscriber/releases</a></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220214125344.png" alt="image-20220214125000259"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220214125346.png" alt="image-20220214125055246"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220214125348.png" alt="image-20220214125348"></p><p>生成字幕文件</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220214125351.png" alt="image-20220214124659617"></p><h2 id="编辑字幕"><a href="#编辑字幕" class="headerlink" title="编辑字幕"></a>编辑字幕</h2><h3 id="arctime"><a href="#arctime" class="headerlink" title="arctime"></a>arctime</h3><p><a href="https://arctime.org/download.html">https://arctime.org/download.html</a></p><p>导入视频和字幕文件</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220214125352.png" alt="20220214125352"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220214125354.png" alt="20220214125354"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220214125358.png" alt="20220214125358"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220214125400.png" alt="20220214125400"></p><p>编辑字幕</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220214125401.png" alt="20220214125401"></p>]]></content>
    
    
    <categories>
      
      <category>软件</category>
      
    </categories>
    
    
    <tags>
      
      <tag>软件</tag>
      
      <tag>视频创作</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>免费开源视频下载器Hitomi Downloader,可以下载Youtube视频</title>
    <link href="/posts/93ae634f6105/"/>
    <url>/posts/93ae634f6105/</url>
    
    <content type="html"><![CDATA[<h2 id="是什么"><a href="#是什么" class="headerlink" title="是什么"></a>是什么</h2><p> <strong>Hitomi Downloader</strong> 是一款基於 <a href="https://www.freedidi.com/go.php?url=aHR0cHM6Ly9naXRodWIuY29tL3l0LWRscC95dC1kbHA=">yt-dlp</a>(基於 <a href="https://www.freedidi.com/go.php?url=aHR0cHM6Ly9naXRodWIuY29tL3l0ZGwtb3JnL3lvdXR1YmUtZGw=">youtube-dl</a>)的在線視頻下載工具，也繼承了 1200+ 在線視頻網站的解析支持，擁有簡潔的圖形界面，即開即用。甚至還支持 M3U8、BT 種子和磁力鏈接，簡直很厲害。</p><p> 此工具支持的网站包括但不限于：B站、新浪微博、Youtube、汤不热、推特、脸书、Tiktok、Ins、Pixiv、Danbooru、NicoNico。以及Pornhub、nhentai、XVideos、E(x)Hentai…</p><p>该工具完全开源免费，您无需支付任何费用（除了上网费）。<br>特别提示，大部分网站上的收费内容不支持直接下载，若要下载收费内容，您还会有额外的开销。您或许需要事先配置代理服务器才能使用本工具下载部分网站的内容，由此可能带来一定的开销。</p><h2 id="官方网站"><a href="#官方网站" class="headerlink" title="官方网站"></a>官方网站</h2><p><a href="https://github.com/KurtBestor/Hitomi-Downloader">https://github.com/KurtBestor/Hitomi-Downloader</a></p><h2 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h2><p><a href="https://github.com/KurtBestor/Hitomi-Downloader/releases">https://github.com/KurtBestor/Hitomi-Downloader/releases</a></p><h2 id="截图"><a href="#截图" class="headerlink" title="截图"></a>截图</h2><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220119095154.png" alt="Snipaste_2022-01-19_09-50-33"></p><h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><ul><li>🍰 Simple and clear user interface</li><li>🚀 Download acceleration</li><li>💻 Supports 32 threads in a single task</li><li>🚥 Supports speed limit</li><li>📜 Supports user scripts</li><li>🧲 Supports BitTorrent &amp; Magnet</li><li>🎞️ Supports M3U8 &amp; MPD format videos</li><li>🌙 Dark mode</li><li>🧳 Portable</li><li>📋 Clipboard monitor</li><li>🗃️ Easy to organize tasks</li></ul><h2 id="支持网站"><a href="#支持网站" class="headerlink" title="支持网站"></a>支持网站</h2><table><thead><tr><th>Site</th><th>URL</th></tr></thead><tbody><tr><td>AfreecaTV</td><td><a href="https://afreecatv.com/">https://afreecatv.com</a></td></tr><tr><td>ArtStation</td><td><a href="https://artstation.com/">https://artstation.com</a></td></tr><tr><td>AsianSister</td><td><a href="https://asiansister.com/">https://asiansister.com</a></td></tr><tr><td>AsmHentai</td><td><a href="https://asmhentai.com/">https://asmhentai.com</a></td></tr><tr><td>Avgle</td><td><a href="https://avgle.com/">https://avgle.com</a></td></tr><tr><td>baraag.net</td><td><a href="https://baraag.net/">https://baraag.net</a></td></tr><tr><td>半次元</td><td><a href="https://bcy.net/">https://bcy.net</a></td></tr><tr><td>BDSMlr</td><td><a href="https://bdsmlr.com/">https://bdsmlr.com</a></td></tr><tr><td>bilibili</td><td><a href="https://bilibili.com/">https://bilibili.com</a></td></tr><tr><td>ComicWalker</td><td><a href="https://comic-walker.com/">https://comic-walker.com</a></td></tr><tr><td>Coub</td><td><a href="https://coub.com/">https://coub.com</a></td></tr><tr><td>Danbooru</td><td><a href="https://danbooru.donmai.us/">https://danbooru.donmai.us</a></td></tr><tr><td>Kakao Webtoon</td><td><a href="http://webtoon.kakao.com/">http://webtoon.kakao.com</a></td></tr><tr><td>DeviantArt</td><td><a href="https://deviantart.com/">https://deviantart.com</a></td></tr><tr><td>E(x)Hentai Galleries</td><td><a href="https://e-hentai.org/">https://e-hentai.org</a><br /><a href="https://exhentai.org/">https://exhentai.org</a></td></tr><tr><td>Facebook</td><td><a href="https://facebook.com/">https://facebook.com</a></td></tr><tr><td>FC2 Video</td><td><a href="https://video.fc2.com/">https://video.fc2.com</a></td></tr><tr><td>Flickr</td><td><a href="https://flickr.com/">https://flickr.com</a></td></tr><tr><td>Gelbooru</td><td><a href="https://gelbooru.com/">https://gelbooru.com</a></td></tr><tr><td>Hameln</td><td><a href="https://syosetu.org/">https://syosetu.org</a></td></tr><tr><td>hanime.tv</td><td><a href="https://hanime.tv/">https://hanime.tv</a></td></tr><tr><td>Hentai Foundry</td><td><a href="https://hentai-foundry.com/">https://hentai-foundry.com</a></td></tr><tr><td>Hitomi.la</td><td><a href="https://hitomi.la/">https://hitomi.la</a></td></tr><tr><td>Hiyobi.me</td><td><a href="https://hiyobi.me/">https://hiyobi.me</a></td></tr><tr><td>Imgur</td><td><a href="https://imgur.com/">https://imgur.com</a></td></tr><tr><td>Instagram</td><td><a href="https://instagram.com/">https://instagram.com</a></td></tr><tr><td>Iwara</td><td><a href="https://iwara.tv/">https://iwara.tv</a><br /><a href="https://ecchi.iwara.tv/">https://ecchi.iwara.tv</a></td></tr><tr><td>Jmana</td><td><a href="https://jmana.net/">https://jmana.net</a></td></tr><tr><td>カクヨム</td><td><a href="https://kakuyomu.jp/">https://kakuyomu.jp</a></td></tr><tr><td>LHScan</td><td><a href="https://loveheaven.net/">https://loveheaven.net</a></td></tr><tr><td>Likee</td><td><a href="https://likee.video/">https://likee.video</a></td></tr><tr><td>Luscious</td><td><a href="https://luscious.net/">https://luscious.net</a></td></tr><tr><td>MyReadingManga</td><td><a href="https://myreadingmanga.info/">https://myreadingmanga.info</a></td></tr><tr><td>Naver Blog</td><td><a href="https://blog.naver.com/">https://blog.naver.com</a></td></tr><tr><td>Naver Post</td><td><a href="https://post.naver.com/">https://post.naver.com</a></td></tr><tr><td>Naver Webtoon</td><td><a href="https://comic.naver.com/">https://comic.naver.com</a></td></tr><tr><td>Naver TV</td><td><a href="https://tv.naver.com/">https://tv.naver.com</a></td></tr><tr><td>nhentai</td><td><a href="https://nhentai.net/">https://nhentai.net</a></td></tr><tr><td>nhentai.com</td><td><a href="https://nhentai.com/">https://nhentai.com</a></td></tr><tr><td>Niconico</td><td><a href="http://nicovideo.jp/">http://nicovideo.jp</a></td></tr><tr><td>ニジエ</td><td><a href="https://nijie.info/">https://nijie.info</a></td></tr><tr><td>Pawoo</td><td><a href="https://pawoo.net/">https://pawoo.net</a></td></tr><tr><td>Pinterest</td><td><a href="https://pinterest.com/">https://pinterest.com</a></td></tr><tr><td>Pixiv</td><td><a href="https://pixiv.net/">https://pixiv.net</a></td></tr><tr><td>pixivコミック</td><td><a href="https://comic.pixiv.net/">https://comic.pixiv.net</a></td></tr><tr><td>Pornhub</td><td><a href="https://pornhub.com/">https://pornhub.com</a><br /><a href="https://pornhubpremium.com/">https://pornhubpremium.com</a></td></tr><tr><td>Rule34.xxx</td><td><a href="https://rule34.xxx/">https://rule34.xxx</a></td></tr><tr><td>Sankaku Complex</td><td><a href="https://www.sankakucomplex.com/">https://www.sankakucomplex.com</a><br/><a href="https://chan.sankakucomplex.com/">https://chan.sankakucomplex.com</a><br/><a href="https://idol.sankakucomplex.com/">https://idol.sankakucomplex.com</a></td></tr><tr><td>Soundcloud</td><td><a href="https://soundcloud.com/">https://soundcloud.com</a></td></tr><tr><td>小説家になろう</td><td><a href="https://syosetu.com/">https://syosetu.com</a></td></tr><tr><td>TOKYO Motion</td><td><a href="https://tokyomotion.net/">https://tokyomotion.net</a></td></tr><tr><td>Tumblr</td><td><a href="https://tumblr.com/">https://tumblr.com</a></td></tr><tr><td>Twitch</td><td><a href="https://twitch.tv/">https://twitch.tv</a></td></tr><tr><td>Twitter</td><td><a href="https://twitter.com/">https://twitter.com</a></td></tr><tr><td>Vimeo</td><td><a href="https://vimeo.com/">https://vimeo.com</a></td></tr><tr><td>V LIVE</td><td><a href="https://vlive.tv/">https://vlive.tv</a></td></tr><tr><td>Weibo</td><td><a href="https://weibo.com/">https://weibo.com</a></td></tr><tr><td>WikiArt</td><td><a href="https://www.wikiart.org/">https://www.wikiart.org</a></td></tr><tr><td>xHamster</td><td><a href="https://xhamster.com/">https://xhamster.com</a></td></tr><tr><td>XNXX</td><td><a href="https://xnxx.com/">https://xnxx.com</a></td></tr><tr><td>XVideos</td><td><a href="https://xvideos.com/">https://xvideos.com</a></td></tr><tr><td>Yande.re</td><td><a href="https://yande.re/">https://yande.re</a></td></tr><tr><td>Youku</td><td><a href="https://youku.com/">https://youku.com</a></td></tr><tr><td>YouTube</td><td><a href="https://youtube.com/">https://youtube.com</a></td></tr><tr><td>and more…</td><td><a href="http://ytdl-org.github.io/youtube-dl/supportedsites.html">Supported sites by youtube-dl</a></td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>软件</category>
      
    </categories>
    
    
    <tags>
      
      <tag>下载工具</tag>
      
      <tag>Youtube</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git文件怎么撤销修改</title>
    <link href="/posts/e32f1df29d50/"/>
    <url>/posts/e32f1df29d50/</url>
    
    <content type="html"><![CDATA[<blockquote><p>原文: <a href="https://www.cnblogs.com/my466879168/p/12960700.html">https://www.cnblogs.com/my466879168/p/12960700.html</a></p></blockquote><h3 id="1-如果你修改了某个文件但还没有将其添加到暂存区，可以使用以下命令来撤销更改并还原到最近一次提交时的状态"><a href="#1-如果你修改了某个文件但还没有将其添加到暂存区，可以使用以下命令来撤销更改并还原到最近一次提交时的状态" class="headerlink" title="1. 如果你修改了某个文件但还没有将其添加到暂存区，可以使用以下命令来撤销更改并还原到最近一次提交时的状态"></a>1. 如果你修改了某个文件但还没有将其添加到暂存区，可以使用以下命令来撤销更改并还原到最近一次提交时的状态</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 放弃单个文件的修改</span><br>git checkout -- &lt;文件名&gt;<br>git restore &lt;文件名&gt;<br><br><span class="hljs-comment"># 放弃多个文件的修改</span><br>git checkout .<br>git restore .<br></code></pre></td></tr></table></figure><h3 id="2-文件已经add过了从工作区到暂存区了-需要在回退到工作区中"><a href="#2-文件已经add过了从工作区到暂存区了-需要在回退到工作区中" class="headerlink" title="2. 文件已经add过了从工作区到暂存区了, 需要在回退到工作区中"></a>2. 文件已经add过了从工作区到暂存区了, 需要在回退到工作区中</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">git reset HEAD -- . <span class="hljs-comment"># 回退所有的暂存区文件</span><br>git reset HEAD -- &lt;文件名&gt;  <span class="hljs-comment"># 回退指定的暂存区文件</span><br><br>git restore --staged &lt;文件名&gt; <span class="hljs-comment"># 回退指定的暂存区文件</span><br>git restore --staged . <span class="hljs-comment"># 回退所有的文件</span><br>git restore--staged *.js <span class="hljs-comment"># 所有暂存区的js文件回退</span><br></code></pre></td></tr></table></figure><h3 id="3-文件已经commit过后怎么回退"><a href="#3-文件已经commit过后怎么回退" class="headerlink" title="3. 文件已经commit过后怎么回退"></a>3. 文件已经commit过后怎么回退</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git reset --soft HEAD^ <span class="hljs-comment"># 撤销本次的commit 回退到暂存区</span><br>git restore -s HEAD~1 . <span class="hljs-comment"># 回退到上一个commit版本这次的代码全消失</span><br>git restore -s 91410eb9 . <span class="hljs-comment"># 指定明确的commit id 然后回退</span><br></code></pre></td></tr></table></figure><h3 id="4-commit之后发现注释写错了修改注释"><a href="#4-commit之后发现注释写错了修改注释" class="headerlink" title="4. commit之后发现注释写错了修改注释"></a>4. commit之后发现注释写错了修改注释</h3><p>注意: 如果当前提交推送到远端, 请不要执行这个操作.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git commit --amend  <span class="hljs-comment"># 此时会进入vim编辑器 修改后保存即可</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Git笔记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>如何用Git进行协作开发</title>
    <link href="/posts/79fd9a2338aa/"/>
    <url>/posts/79fd9a2338aa/</url>
    
    <content type="html"><![CDATA[<p>|  原文出处: <a href="https://www.zhihu.com/question/25816758/answer/386246507">https://www.zhihu.com/question/25816758/answer/386246507</a></p><h2 id="理想效果"><a href="#理想效果" class="headerlink" title="理想效果"></a>理想效果</h2><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20211231183642.jpg"><br>想要这种效果? 那就<strong>多用</strong><code>rebase</code></p><h2 id="如何实现"><a href="#如何实现" class="headerlink" title="如何实现?"></a>如何实现?</h2><h3 id="0-每次拉取远程服务器的代码-都用git-pull-rebase"><a href="#0-每次拉取远程服务器的代码-都用git-pull-rebase" class="headerlink" title="0. 每次拉取远程服务器的代码,都用git pull --rebase"></a>0. 每次拉取远程服务器的代码,都用<code>git pull --rebase</code></h3><ul><li>切换到<code>master分支</code>, 然后用<code>git pull --rebase</code>拉取远程分支的代码</li><li>切换到<code>功能/开发</code>分支. 用<code>git rebase master</code>合并<code>master分支</code>的代码到当前分支</li></ul><h3 id="1-新增-修改代码"><a href="#1-新增-修改代码" class="headerlink" title="1. 新增/修改代码"></a>1. 新增/修改代码</h3><h3 id="2-git-diff-检查代码变更"><a href="#2-git-diff-检查代码变更" class="headerlink" title="2. git diff 检查代码变更"></a>2. <code>git diff</code> 检查代码变更</h3><h3 id="3-git-add把修改加到index里"><a href="#3-git-add把修改加到index里" class="headerlink" title="3. git add把修改加到index里"></a>3. <code>git add</code>把修改加到index里</h3><h3 id="4-提交代码"><a href="#4-提交代码" class="headerlink" title="4. 提交代码"></a>4. 提交代码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git commit -m <span class="hljs-string">&#x27;xxxxx&#x27;</span><br></code></pre></td></tr></table></figure><blockquote><p>commit到本地仓库，不同的公司有不同的commit模板。Follow公司标准，推荐commit message写详细，不要一句话modify xxx service。大家看git log知道你改了xxx service，但是具体改了什么，是改了接口，还是删了什么函数，麻烦说清楚。好的commit message应该交代清楚本次代码变更的背景，以及具体改了什么。以及，贴上你解决了什么需求，什么bug的连接（如果你们有需求管理平台和缺陷跟踪平台，类似Jira？</p></blockquote><h3 id="5-Code-Review"><a href="#5-Code-Review" class="headerlink" title="5. Code Review"></a>5. Code Review</h3><blockquote><p>Code Review请Follow你们公司的标准。原则上Code Review的diff 不能太庞大，</p></blockquote><h3 id="6-重构一下commit"><a href="#6-重构一下commit" class="headerlink" title="6. 重构一下commit"></a>6. 重构一下commit</h3><p><code>git pull --rebase</code> # 获取线上代码, 解决conflict，merge之后的代码要重新发起CR<br><code>git log</code> # check the commit history<br><code>git rebase -i HEAD~N</code> # 重构提交 (这个rebase操作可以把多个commit合并)</p>]]></content>
    
    
    <categories>
      
      <category>Git笔记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>安装Zookeeper</title>
    <link href="/posts/722b51eecc82/"/>
    <url>/posts/722b51eecc82/</url>
    
    <content type="html"><![CDATA[<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p><a href="http://zookeeper.apache.org/releases.html">下载地址</a></p><p>选择二进制包</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210830230525.png" alt="image-20210830224358632"></p><p>wget 下载地址</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://www.apache.org/dyn/closer.lua/zookeeper/zookeeper-3.5.9/apache-zookeeper-3.5.9-bin.tar.gz <br></code></pre></td></tr></table></figure><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="0-准备安装"><a href="#0-准备安装" class="headerlink" title="0. 准备安装"></a>0. 准备安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo yum install -y wget  vim <span class="hljs-comment"># centos</span><br>sudo apt install -y wget curl vim <span class="hljs-comment"># ubuntu</span><br></code></pre></td></tr></table></figure><h3 id="1-移动压缩包到-opt文件夹"><a href="#1-移动压缩包到-opt文件夹" class="headerlink" title="1. 移动压缩包到/opt文件夹"></a>1. 移动压缩包到/opt文件夹</h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">mv</span> apache-zookeeper-<span class="hljs-number">3</span>.<span class="hljs-number">5</span>.<span class="hljs-number">9</span>-bin.tar.gz  /opt/<br></code></pre></td></tr></table></figure><h3 id="2-解压缩安装包"><a href="#2-解压缩安装包" class="headerlink" title="2. 解压缩安装包"></a>2. 解压缩安装包</h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> -zxvf apache-zookeeper-<span class="hljs-number">3</span>.<span class="hljs-number">5</span>.<span class="hljs-number">9</span>-bin.tar.gz <br><span class="hljs-attribute">mv</span> apache-zookeeper-<span class="hljs-number">3</span>.<span class="hljs-number">5</span>.<span class="hljs-number">9</span>-bin zookeeper  # 把文件夹改名<br></code></pre></td></tr></table></figure><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>把<code>config</code>文件夹的<code>zoo_sample.cfg </code>文件改名为<code>zoo.cfg </code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mv</span> /opt/zookeeper/config/zoo_sample.cfg /opt/zookeeper/config/zoo.cfg <br></code></pre></td></tr></table></figure><p>创建<code>data</code>目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> /opt/zookeeper/data<br></code></pre></td></tr></table></figure><p>修改配置文件<code>config/zoo.cfg</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">ticketTime=2000<br>clientPort=2181<br>dataDir=/opt/zookeeper/data<br>dataLogDir=/opt/zookeeper/logs<br></code></pre></td></tr></table></figure><h2 id="启动服务器端"><a href="#启动服务器端" class="headerlink" title="启动服务器端"></a>启动服务器端</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">/opt/zookeeper/bin/zkServer.sh start<br></code></pre></td></tr></table></figure><h2 id="运行命令行客户端"><a href="#运行命令行客户端" class="headerlink" title="运行命令行客户端"></a>运行命令行客户端</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">/opt/zookeeper/bin/zkCli.sh <br></code></pre></td></tr></table></figure><p>zkCli执行成功后, 查看zNode输入<code>ls /</code></p>]]></content>
    
    
    <categories>
      
      <category>JAVA开发</category>
      
    </categories>
    
    
    <tags>
      
      <tag>中间件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux安装终端zsh和oh-my-zsh</title>
    <link href="/posts/4cce6ab24f45/"/>
    <url>/posts/4cce6ab24f45/</url>
    
    <content type="html"><![CDATA[<h2 id="zsh是什么"><a href="#zsh是什么" class="headerlink" title="zsh是什么"></a>zsh是什么</h2><p>zsh是一个Linux下强大的shell, 由于大多数Linux产品安装以及默认使用bash shell, 但是丝毫不影响极客们对zsh的热衷, 几乎每一款Linux产品都包含有zsh，通常可以用apt-get、urpmi或yum等包管理器进行安装.</p><h2 id="安装zsh"><a href="#安装zsh" class="headerlink" title="安装zsh"></a>安装zsh</h2><p>提前准备</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo apt update<br>sudo apt install -y curl wget vim git<br></code></pre></td></tr></table></figure><p>安装zsh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo apt install -y zsh <br></code></pre></td></tr></table></figure><h2 id="配置zsh为默认终端"><a href="#配置zsh为默认终端" class="headerlink" title="配置zsh为默认终端"></a>配置zsh为默认终端</h2><p>查看zsh路径</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> /etc/shells  <span class="hljs-comment"># 查看是否存在zsh,并查看zsh路径</span><br></code></pre></td></tr></table></figure><p>把当前的<code>shell</code>切换为zsh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">chsh -s /bin/zsh <span class="hljs-comment"># 从上面的命令查到zsh的路径是`/bin/zsh`</span><br></code></pre></td></tr></table></figure><p>然后<code>source</code>一下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span> ~/.zshrc<br></code></pre></td></tr></table></figure><p><code>chsh -s</code>原理是修改<code>/etc/passwd</code>文件中和我们所登录的用户名相对应的那一行。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[roc@roclinux]~% <span class="hljs-built_in">cat</span> /etc/passwd|grep ^roc<br>roc:x:1001:1001::/home/roc:/bin/zsh<br></code></pre></td></tr></table></figure><h2 id="安装oh-my-zsh"><a href="#安装oh-my-zsh" class="headerlink" title="安装oh-my-zsh"></a>安装oh-my-zsh</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sh -c <span class="hljs-string">&quot;<span class="hljs-subst">$(curl -fsSL https://gitee.com/pocmon/ohmyzsh/raw/master/tools/install.sh)</span>&quot;</span><br></code></pre></td></tr></table></figure><h2 id="安装命令提示插件zsh-autosuggestion"><a href="#安装命令提示插件zsh-autosuggestion" class="headerlink" title="安装命令提示插件zsh-autosuggestion"></a>安装命令提示插件zsh-autosuggestion</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions  ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions<br></code></pre></td></tr></table></figure><p>编辑<code>~/.zshrc</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim  ~/.zshrc<br></code></pre></td></tr></table></figure><p>加入插件<code>zsh-autosuggestions</code><br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210830220807.png"></p><p>重启<code>Terminal</code>，按 ➡ 键可生效<br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210830220920.png"></p><h2 id="安装命令高亮插件zsh-syntax-highlighting"><a href="#安装命令高亮插件zsh-syntax-highlighting" class="headerlink" title="安装命令高亮插件zsh-syntax-highlighting"></a>安装命令高亮插件zsh-syntax-highlighting</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git  ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlightings<br></code></pre></td></tr></table></figure><p>编辑<code>~/.zshrc</code></p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">plugins</span><span class="hljs-operator">=</span>(其他插件 zsh-syntax-highlighting)<br></code></pre></td></tr></table></figure><p>然后<code>source</code>一下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span> ~/.zshrc<br></code></pre></td></tr></table></figure><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210905093013.png"></p><h2 id="我的-zshrc配置"><a href="#我的-zshrc配置" class="headerlink" title="我的~/.zshrc配置"></a>我的~/.zshrc配置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Path to your oh-my-zsh installation.</span><br><span class="hljs-built_in">export</span> ZSH=<span class="hljs-string">&quot;<span class="hljs-variable">$HOME</span>/.oh-my-zsh&quot;</span><br><br><span class="hljs-comment"># 主题</span><br>ZSH_THEME=<span class="hljs-string">&quot;robbyrussell&quot;</span><br><br><span class="hljs-comment"># 插件</span><br>plugins=(<br>    git<br>    zsh-autosuggestions<br>    zsh-syntax-highlighting<br>    copyfile<br>    copypath<br>    z<br>    you-should-use<br>)<br><br><span class="hljs-built_in">source</span> <span class="hljs-variable">$ZSH</span>/oh-my-zsh.sh<br><br><br><span class="hljs-comment"># 我的设置</span><br><span class="hljs-comment"># 自动补全配置, 忽略zsh自带的补全&quot;git check-&quot;和&quot;git cherry-&quot;</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion::complete:git:*:*&#x27;</span> ignored-patterns <span class="hljs-string">&#x27;check*-*&#x27;</span> <span class="hljs-string">&#x27;cherry&#x27;</span> <span class="hljs-string">&#x27;cherry-pick&#x27;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Linux教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux终端</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>批量下载B站视频</title>
    <link href="/posts/7022d2dcbfb1/"/>
    <url>/posts/7022d2dcbfb1/</url>
    
    <content type="html"><![CDATA[<h2 id="安装油猴"><a href="#安装油猴" class="headerlink" title="安装油猴"></a>安装油猴</h2><blockquote><p>油猴官网: <a href="https://www.tampermonkey.net/">https://www.tampermonkey.net/</a></p></blockquote><ol><li><p>下载安装油猴的<code>crx</code>文件<br> <a href="https://pan.baidu.com/s/1sXmbJ1JN4SDzfA9iI7mzPg">下载地址</a> 提取码: <code>yyds</code> </p></li><li><p>复制下载链接到浏览器，下载压缩包，解压得到一个后缀为.crx文件；<br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210720162048.png" alt="image-20210720151341344"></p></li><li><p>打开谷歌浏览器，点击右上角，选择<strong>更多工具</strong>→<strong>扩展程序</strong>；</p></li></ol><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210720162313.webp" alt="20352981-42662256ba5ace3f"></p><ol start="4"><li>将第一步解压得到的.crx文件拖进浏览器，点击“<strong>添加扩展程序</strong>”，记得打开“<strong>开发者模式</strong>”。</li></ol><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210720162315.webp" alt="20352981-baf94aafd261c8d3"></p><h2 id="安装油猴插件Bilibili-Evolved"><a href="#安装油猴插件Bilibili-Evolved" class="headerlink" title="安装油猴插件Bilibili-Evolved"></a>安装油猴插件<code>Bilibili-Evolved</code></h2><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210720162327.png" alt="image-20210720160308127"></p><h3 id="1-进入Bilibili-Evolved的github网站"><a href="#1-进入Bilibili-Evolved的github网站" class="headerlink" title="1. 进入Bilibili-Evolved的github网站"></a>1. 进入<code>Bilibili-Evolved</code>的<code>github</code>网站</h3><blockquote><p><a href="https://github.com/the1812/Bilibili-Evolved">https://github.com/the1812/Bilibili-Evolved</a></p></blockquote><h3 id="2-点击正式版进行安装"><a href="#2-点击正式版进行安装" class="headerlink" title="2. 点击正式版进行安装"></a>2. 点击<code>正式版</code>进行安装</h3><p>   <img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210720162330.png" alt="image-20210720152830274"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210720162333.png" alt="image-20210720152943154"></p><h2 id="下载B站视频"><a href="#下载B站视频" class="headerlink" title="下载B站视频"></a>下载B站视频</h2><h3 id="1-打开视频专辑页面"><a href="#1-打开视频专辑页面" class="headerlink" title="1. 打开视频专辑页面"></a>1. 打开视频专辑页面</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210720163638.png" alt="image-20210720162752880"></p><h3 id="2-点击下载视频"><a href="#2-点击下载视频" class="headerlink" title="2. 点击下载视频"></a>2. 点击<code>下载视频</code></h3><p>把鼠标<strong>移动</strong>到图片所示的位置</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210720162335.png" alt="image-20210720161812600"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210720162337.png" alt="image-20210720161536076"></p><h3 id="3-选择要下载的视频"><a href="#3-选择要下载的视频" class="headerlink" title="3. 选择要下载的视频."></a>3. 选择要下载的视频.</h3><p>目前单次批量下载最多选择<code>32</code>个视频. 假如要下载100个视频的话, 需要4次批量下载(即为:32*3+4).<br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210720162339.png" alt="image-20210720154338047"></p><h3 id="4-选择aria2-RPC"><a href="#4-选择aria2-RPC" class="headerlink" title="4. 选择aria2 RPC ,"></a>4. 选择<code>aria2 RPC</code> ,</h3><p>关于<code>aria2 RPC</code>的用法, <a href="https://blog.wingogo.top/posts/5b7e9cabc48f">请看这篇文章</a></p><p>​    <img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210720162341.png" alt="image-20210720154318079"></p><h3 id="5-点击开始下载"><a href="#5-点击开始下载" class="headerlink" title="5 点击开始下载"></a>5 点击<code>开始下载</code></h3><p>如果出现提问是否<code>跨域</code>,全部选<code>是</code><br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210720162343.png" alt="image-20210720154712928"></p><h3 id="6-查看效果"><a href="#6-查看效果" class="headerlink" title="6 查看效果"></a>6 查看效果</h3><p>打开<code>aria2</code>的图形界面工具(例如:<code>AriaNg</code> ).可以看到下载任务和下载进度.</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210720162344.png" alt="image-20210720160034147"></p><h2 id="非必要-把FLV文件转换成MP4文件"><a href="#非必要-把FLV文件转换成MP4文件" class="headerlink" title="(非必要) 把FLV文件转换成MP4文件"></a>(非必要) 把FLV文件转换成MP4文件</h2><p><code>Bilibili-Evolved</code>默认下载格式是flv.<br>flv格式也是可以用播发器播放的.<br>如果需要mp4格式的话,可以通过使用<code>ffmpeg</code>把flv格式转为mp4格式.</p><h3 id="CMD视频目录"><a href="#CMD视频目录" class="headerlink" title="CMD视频目录"></a>CMD视频目录</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220214115021.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220214115019.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20220214115340.png"></p><h3 id="转换文件"><a href="#转换文件" class="headerlink" title="转换文件"></a>转换文件</h3><blockquote><p>以下命令在CMD里面执行<br>确定已经安装ffmpeg, 并把ffmpeg加入到环境变量</p></blockquote><h4 id="转换多个文件"><a href="#转换多个文件" class="headerlink" title="转换多个文件"></a>转换多个文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">for</span> %i <span class="hljs-keyword">in</span> (*.flv) <span class="hljs-keyword">do</span> ffmpeg -i <span class="hljs-string">&quot;%i&quot;</span> -c copy <span class="hljs-string">&quot;%~ni.mp4&quot;</span><br></code></pre></td></tr></table></figure><h4 id="转换单个文件"><a href="#转换单个文件" class="headerlink" title="转换单个文件"></a>转换单个文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ffmpeg -i <span class="hljs-string">&quot;input.flv&quot;</span> -c copy <span class="hljs-string">&quot;output.mp4&quot;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>软件</category>
      
    </categories>
    
    
    <tags>
      
      <tag>下载工具</tag>
      
      <tag>B站</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Aria2使用方式</title>
    <link href="/posts/3c0f43e416f5/"/>
    <url>/posts/3c0f43e416f5/</url>
    
    <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><blockquote><p>Aria2 是一个多平台轻量级，支持 HTTP、FTP、BitTorrent 等多协议、多来源的命令行下载工具。Aria2 可以从多个来源、多个协议下载资源，最大的程度上利用了你的带宽。Aria2 有着非常小的资源占用，在关闭磁盘缓存的情况下，物理内存占用通常为 4M（正常 HTTP/FTP 下载的情况下），BitTorrent 下载每秒2.8M/S的情况下，CPU 占有率约为 6%。Aria2 支持 JSON-RPC 和 XML-RPC 接口远程调用。</p></blockquote><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210709222312.png"></p><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>服务端<code>aria2</code>: <a href="https://github.com/aria2/aria2/releases/tag/release-1.35.0">https://github.com/aria2/aria2/releases/tag/release-1.35.0</a></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210710121320.png" alt="image-20210710113706713"></p><p>客户端<code>Aria2Ng</code>: <a href="https://github.com/mayswind/AriaNg/releases/tag/1.2.2">https://github.com/mayswind/AriaNg/releases/tag/1.2.2</a></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210710121323.png" alt="image-20210710113758236"></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="解压aria2安装包"><a href="#解压aria2安装包" class="headerlink" title="解压aria2安装包"></a>解压<code>aria2</code>安装包</h3><p><strong>安装包文件夹存放位置就是本文所说的<code>aria2</code>安装目录</strong></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210710121340.png" alt="image-20210710114058804"></p><h3 id="添加环境变量"><a href="#添加环境变量" class="headerlink" title="添加环境变量"></a>添加环境变量</h3><p>在环境变量<code>Path</code>中添加<code>aria2</code>安装目录</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210710121233.png" alt="image-20210710114307321"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210710121236.png" alt="image-20210710114230218"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210710121239.png" alt="image-20210710114445538"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210709222314.png" alt="image-20210709214803477"></p><h3 id="创建配置文件"><a href="#创建配置文件" class="headerlink" title="创建配置文件"></a>创建配置文件</h3><p>在<code>aria2</code>安装目录创建<code>aria2.conf</code>配置文件. </p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-comment">## aria2配置 ## ============================================================</span><br><span class="hljs-comment"># 日志</span><br><span class="hljs-comment">#log-level=warn</span><br><span class="hljs-comment">#log=./log/aria2.log</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 后台运行</span><br><span class="hljs-attr">daemon</span>=<span class="hljs-string">true</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 下载位置, 默认: 当前启动位置</span><br><span class="hljs-attr">dir</span>=<span class="hljs-string">d:/downloads</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 从会话文件中读取下载任务</span><br><span class="hljs-attr">input-file</span>=<span class="hljs-string">./session/aria2.session</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 在Aria2退出时保存`错误/未完成`的下载任务到会话文件</span><br><span class="hljs-attr">save-session</span>=<span class="hljs-string">./session/aria2.session</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 定时保存会话, 0为退出时才保存, 需1.16.1以上版本, 默认:0</span><br><span class="hljs-attr">save-session-interval</span>=<span class="hljs-string">30</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 断点续传</span><br><span class="hljs-attr">continue</span>=<span class="hljs-string">true</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 启用磁盘缓存, 0为禁用缓存, 需1.16以上版本, 默认:16M</span><br><span class="hljs-comment">#disk-cache=32M</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 文件预分配方式, 能有效降低磁盘碎片, 默认:prealloc</span><br><span class="hljs-comment"># 预分配所需时间: none &lt; falloc ? trunc &lt; prealloc</span><br><span class="hljs-comment"># falloc和trunc则需要文件系统和内核支持</span><br><span class="hljs-comment"># NTFS建议使用falloc, EXT3/4建议trunc, MAC 下需要注释此项</span><br><span class="hljs-attr">file-allocation</span>=<span class="hljs-string">none</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 客户端伪装</span><br><span class="hljs-attr">user-agent</span>=<span class="hljs-string">netdisk;5.2.6;PC;PC-Windows;6.2.9200;WindowsBaiduYunGuanJia</span><br><span class="hljs-attr">referer</span>=<span class="hljs-string">http://pan.baidu.com/disk/home</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 禁用IPv6, 默认:false</span><br><span class="hljs-attr">disable-ipv6</span>=<span class="hljs-string">true</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 其他</span><br><span class="hljs-attr">always-resume</span>=<span class="hljs-string">true</span><br><span class="hljs-attr">check-integrity</span>=<span class="hljs-string">true</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">## 下载位置 ## ============================================================</span><br><span class="hljs-comment"># 最大同时下载任务数, 运行时可修改, 默认:5</span><br><span class="hljs-attr">max-concurrent-downloads</span>=<span class="hljs-string">10</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 同一服务器连接数, 添加时可指定, 默认:1</span><br><span class="hljs-attr">max-connection-per-server</span>=<span class="hljs-string">10</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 最小文件分片大小, 添加时可指定, 取值范围1M -1024M, 默认:20M</span><br><span class="hljs-comment"># 假定size=10M, 文件为20MiB 则使用两个来源下载; 文件为15MiB 则使用一个来源下载</span><br><span class="hljs-attr">min-split-size</span>=<span class="hljs-string">10M</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 单个任务最大线程数, 添加时可指定, 默认:5</span><br><span class="hljs-attr">split</span>=<span class="hljs-string">8</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 整体下载速度限制, 运行时可修改, 默认:0</span><br><span class="hljs-comment">#max-overall-download-limit=0</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 单个任务下载速度限制, 默认:0</span><br><span class="hljs-comment">#max-download-limit=0</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 整体上传速度限制, 运行时可修改, 默认:0</span><br><span class="hljs-comment">#max-overall-upload-limit=0</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 单个任务上传速度限制, 默认:0</span><br><span class="hljs-comment">#max-upload-limit=0</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">## RPC设置 ## ============================================================</span><br><span class="hljs-comment"># 启用RPC, 默认:false</span><br><span class="hljs-attr">enable-rpc</span>=<span class="hljs-string">true</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 允许所有来源, 默认:false</span><br><span class="hljs-attr">rpc-allow-origin-all</span>=<span class="hljs-string">true</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 允许非外部访问, 默认:false</span><br><span class="hljs-attr">rpc-listen-all</span>=<span class="hljs-string">true</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 事件轮询方式, 取值:[epoll, kqueue, port, poll, select], 不同系统默认值不同</span><br><span class="hljs-comment">#event-poll=select</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># RPC监听端口, 端口被占用时可以修改, 默认:6800</span><br><span class="hljs-attr">rpc-listen-port</span>=<span class="hljs-string">6800</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 设置的RPC授权令牌, v1.18.4新增功能, 取代 --rpc-user 和 --rpc-passwd 选项</span><br><span class="hljs-comment">#rpc-secret=&lt;TOKEN&gt;</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 是否启用 RPC 服务的 SSL/TLS 加密,</span><br><span class="hljs-comment"># 启用加密后 RPC 服务需要使用 https 或者 wss 协议连接</span><br><span class="hljs-comment">#rpc-secure=true</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 在 RPC 服务中启用 SSL/TLS 加密时的证书文件,</span><br><span class="hljs-comment"># 使用 PEM 格式时，您必须通过 --rpc-private-key 指定私钥</span><br><span class="hljs-comment">#rpc-certificate=/path/to/certificate.pem</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 在 RPC 服务中启用 SSL/TLS 加密时的私钥文件</span><br><span class="hljs-comment">#rpc-private-key=/path/to/certificate.key</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">## BT/PT下载相关 ## ============================================================</span><br><span class="hljs-comment"># 当下载的是一个种子(以.torrent结尾)时, 自动开始BT任务, 默认:true</span><br><span class="hljs-comment">#follow-torrent=true</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># BT监听端口, 当端口被屏蔽时使用, 默认:6881-6999</span><br><span class="hljs-attr">listen-port</span>=<span class="hljs-string">51413</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 单个种子最大连接数, 默认:55</span><br><span class="hljs-comment">#bt-max-peers=55</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 打开DHT功能, PT需要禁用, 默认:true</span><br><span class="hljs-attr">enable-dht</span>=<span class="hljs-string">false</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 打开IPv6 DHT功能, PT需要禁用</span><br><span class="hljs-comment">#enable-dht6=false</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># DHT网络监听端口, 默认:6881-6999</span><br><span class="hljs-comment">#dht-listen-port=6881-6999</span><br><br><span class="hljs-attr">dht-file-path</span>=<span class="hljs-string">./dht/dht.dat</span><br><span class="hljs-attr">dht-file-path6</span>=<span class="hljs-string">./dht/dht6.dat</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 本地节点查找, PT需要禁用, 默认:false</span><br><span class="hljs-comment">#bt-enable-lpd=false</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 种子交换, PT需要禁用, 默认:true</span><br><span class="hljs-attr">enable-peer-exchange</span>=<span class="hljs-string">false</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 每个种子限速, 对少种的PT很有用, 默认:50K</span><br><span class="hljs-comment">#bt-request-peer-speed-limit=50K</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 设置 peer id 前缀</span><br><span class="hljs-attr">peer-id-prefix</span>=<span class="hljs-string">-TR2770-</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 当种子的分享率达到这个数时, 自动停止做种, 0为一直做种, 默认:1.0</span><br><span class="hljs-attr">seed-ratio</span>=<span class="hljs-string">0</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 强制保存会话, 即使任务已经完成, 默认:false</span><br><span class="hljs-comment"># 较新的版本开启后会在任务完成后依然保留.aria2文件</span><br><span class="hljs-comment">#force-save=false</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># BT校验相关, 默认:true</span><br><span class="hljs-comment">#bt-hash-check-seed=true</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 继续之前的BT任务时, 无需再次校验, 默认:false</span><br><span class="hljs-attr">bt-seed-unverified</span>=<span class="hljs-string">true</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"># 保存磁力链接元数据为种子文件(.torrent文件), 默认:false</span><br><span class="hljs-attr">bt-save-metadata</span>=<span class="hljs-string">true</span><br><br><span class="hljs-attr">bt-max-open-files</span>=<span class="hljs-string">16</span><br></code></pre></td></tr></table></figure><h3 id="创建session文件"><a href="#创建session文件" class="headerlink" title="创建session文件"></a>创建session文件</h3><p>在<code>aria2</code>安装目录, <strong>创建文件夹</strong><code>session</code></p><p>然后在文件夹<code>session</code>, <strong>创建空白文件</strong><code>aria2.session</code></p><blockquote><p><code>aria2.session</code>是一个记录了下载任务记录的文件</p></blockquote><h3 id="解压缩客户端AriaNg安装包"><a href="#解压缩客户端AriaNg安装包" class="headerlink" title="解压缩客户端AriaNg安装包"></a>解压缩客户端<code>AriaNg</code>安装包</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210710121253.png" alt="image-20210710115511400"></p><p><code>index.html</code>是客户端<code>AriaNg</code>的执行文件.</p><h2 id="RPC使用方式"><a href="#RPC使用方式" class="headerlink" title="RPC使用方式"></a>RPC使用方式</h2><h3 id="开启服务端aria2"><a href="#开启服务端aria2" class="headerlink" title="开启服务端aria2"></a>开启服务端<code>aria2</code></h3><blockquote><p><strong>原理</strong>: 通过读取指定的配置文件,把<code>aria2</code>的<code>rpc</code>模式(服务器模式)开启.客户端用ip和端口连接到<code>aria2</code>.</p><p>默认情况下<code>aria2</code>是一个命令行下载工具.</p></blockquote><h4 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h4><p>在<code>aria2</code>安装目录, 创建文件<code>runAria2.vbs</code></p><figure class="highlight vbscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vbscript"><span class="hljs-built_in">CreateObject</span>(<span class="hljs-string">&quot;WScript.Shell&quot;</span>).Run <span class="hljs-string">&quot;aria2c.exe --conf-path=aria2.conf&quot;</span>,<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>双击文件<code>runAria2.vbs</code>, 运行<code>aria2</code>.</p><h4 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h4><p>在<code>aria2</code>安装目录, 创建<code>runAria2.sh</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aria2c.exe --conf-path=aria2.conf  <br></code></pre></td></tr></table></figure><p>然后在<code>bash</code>命令行输入<code>sh runAria2.sh</code>运行<code>aria2</code>.</p><h3 id="开启客户端AriaNg"><a href="#开启客户端AriaNg" class="headerlink" title="开启客户端AriaNg"></a>开启客户端<code>AriaNg</code></h3><p>打开<code>AriaNg</code>安装目录的<code>index.html</code>, 即可进入<code>AriaNg</code> 界面</p><p>客户端<code>AriaNg</code>会自动连接服务端. 如果出现连接不成功,  说明客户端<code>AriaNg</code>没有找到服务端</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210709222312.png" alt="image-20210709213842832"></p><h2 id="命令行使用方式"><a href="#命令行使用方式" class="headerlink" title="命令行使用方式"></a>命令行使用方式</h2><p>在命令行输入命令下载文件.  这种方式<strong>可以不用<code>AriaNg</code>客户端</strong></p><p>Download from WEB:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aria2c http://example.org/mylinux.iso<br></code></pre></td></tr></table></figure><p>Download from 2 sources:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aria2c http://a/f.iso ftp://b/f.iso<br></code></pre></td></tr></table></figure><p>Download using 2 connections per host:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aria2c -x2 http://a/f.iso<br></code></pre></td></tr></table></figure><p>BitTorrent:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aria2c http://example.org/mylinux.torrent<br></code></pre></td></tr></table></figure><p>BitTorrent Magnet URI:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aria2c <span class="hljs-string">&#x27;magnet:?xt=urn:btih:248D0A1CD08284299DE78D5C1ED359BB46717D8C&#x27;</span><br></code></pre></td></tr></table></figure><p>Metalink:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aria2c http://example.org/mylinux.metalink<br></code></pre></td></tr></table></figure><p>Download URIs found in text file:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aria2c -i uris.txt<br></code></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="https://www.jianshu.com/p/6adf79d29add">Aria2配置详解</a></li><li><a href="https://aria2.github.io/">aria2官方网站</a></li><li><a href="https://zhuanlan.zhihu.com/p/30666881">Aria2基础上手指南</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>软件</category>
      
    </categories>
    
    
    <tags>
      
      <tag>下载工具</tag>
      
      <tag>Aria2</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>推荐两款虚拟机软件</title>
    <link href="/posts/ce0ede910d66/"/>
    <url>/posts/ce0ede910d66/</url>
    
    <content type="html"><![CDATA[<h2 id="第一款-VMware-Workstation"><a href="#第一款-VMware-Workstation" class="headerlink" title="第一款:VMware Workstation"></a>第一款:<code>VMware Workstation</code></h2><p><code>VMware Workstation</code>本来是一款需要收费的虚拟机.但由注册码可以共享使用.而且注册码没有时间限制.所以我个人认为也是”免费的虚拟机”.</p><p><a href="https://www.vmware.com/cn/products/workstation-pro/workstation-pro-evaluation.html">下载地址</a></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210706203924.png" alt="1600228260947561"></p><h3 id="注册码"><a href="#注册码" class="headerlink" title="注册码"></a>注册码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ZF3Ro-FHED2-M8OTY-8QYGC-NPKYF<br></code></pre></td></tr></table></figure><p>注册成功的样子.</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210706203921.png" alt="Image"></p><h2 id="第二款-VirtualBox"><a href="#第二款-VirtualBox" class="headerlink" title="第二款:VirtualBox"></a>第二款:<code>VirtualBox</code></h2><p><code>VirtualBox</code>是一款<strong>免费虚拟机</strong>. 比<code>VMware Workstation</code>轻量<br><strong>如果是轻度使的用户. 推荐选择这一款</strong>.<br><a href="https://www.virtualbox.org/">下载地址</a><br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210706203923.jpg" alt="20170819121347239"></p>]]></content>
    
    
    <categories>
      
      <category>软件</category>
      
    </categories>
    
    
    <tags>
      
      <tag>虚拟机</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>红米7手机刷LineageOS系统</title>
    <link href="/posts/2eaab60b6bd4/"/>
    <url>/posts/2eaab60b6bd4/</url>
    
    <content type="html"><![CDATA[<h2 id="安装adb和fastboot"><a href="#安装adb和fastboot" class="headerlink" title="安装adb和fastboot"></a>安装adb和fastboot</h2><p><a href="https://dl.google.com/android/repository/platform-tools-latest-windows.zip">下载地址</a></p><p>设置环境变量</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210702181052.png"></p><p>确保你的电脑已经配置好<code>adb</code> 和<code>fastboot</code> 的环境变量.</p><blockquote><p>原文: <a href="https://wiki.lineageos.org/adb_fastboot_guide.html">https://wiki.lineageos.org/adb_fastboot_guide.html</a></p></blockquote><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210702181056.png"></p><h2 id="解锁手机"><a href="#解锁手机" class="headerlink" title="解锁手机"></a>解锁手机</h2><h3 id="下载解锁工具"><a href="#下载解锁工具" class="headerlink" title="下载解锁工具"></a>下载解锁工具</h3><blockquote><p><a href="http://www.miui.com/unlock/index.html">http://www.miui.com/unlock/index.html</a></p></blockquote><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210702181058.png"></p><h3 id="开启开发者选项"><a href="#开启开发者选项" class="headerlink" title="开启开发者选项"></a>开启开发者选项</h3><p><code>「设置」</code>-&gt; <code>「全部参数」</code>-&gt; 连续点击<code>「MIUI 版本」</code>（直至开启开发者选项即可）</p><h3 id="设备绑定小米账号"><a href="#设备绑定小米账号" class="headerlink" title="设备绑定小米账号"></a>设备绑定小米账号</h3><p><code>「设置」</code>-&gt;<code>「更多设置」</code> -&gt;<code>「开发者选项」</code> -&gt;<code>「设备解锁状态」</code>（登录小米账号）</p><h3 id="开启USB调试"><a href="#开启USB调试" class="headerlink" title="开启USB调试"></a>开启USB调试</h3><p><code>「设置」</code>-&gt;<code>「更多设置」</code>-&gt;<code>「开发者选项」</code>-&gt;<code>「USB调试」</code>（开启即可）。</p><h3 id="使手机进入-fastboot-模式"><a href="#使手机进入-fastboot-模式" class="headerlink" title="使手机进入  fastboot 模式"></a>使手机进入  fastboot 模式</h3><p><strong>方法1</strong>, 电脑打开 <code>cmd（命令提示符）</code>，执行下列命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">adb reboot bootloader<br></code></pre></td></tr></table></figure><p><strong>方法2,</strong> 手机关机, 然后同时长按<code>音量减</code> 和  <code>电源</code>进入模式 </p><h3 id="在电脑里，运行小米官方解锁工具"><a href="#在电脑里，运行小米官方解锁工具" class="headerlink" title="在电脑里，运行小米官方解锁工具"></a>在电脑里，运行小米官方解锁工具</h3><p>解压完后，文件夹里找到 <strong>miflash_unlock.exe</strong>，双击运行即可。登录账号依照提示完成解锁即可。</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210702181102.png"></p><h2 id="刷ROM"><a href="#刷ROM" class="headerlink" title="刷ROM"></a>刷ROM</h2><blockquote><p>官网原文: <a href="https://wiki.lineageos.org/devices/onclite/install">https://wiki.lineageos.org/devices/onclite/install</a></p></blockquote><h3 id="1-下载这两个东西"><a href="#1-下载这两个东西" class="headerlink" title="1. 下载这两个东西"></a>1. 下载这两个东西</h3><blockquote><p>下载地址 <a href="https://download.lineageos.org/onclite">https://download.lineageos.org/onclite</a></p></blockquote><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210702181112.png"></p><h3 id="2-手机开启USB调试"><a href="#2-手机开启USB调试" class="headerlink" title="2. 手机开启USB调试"></a>2. 手机开启USB调试</h3><p><code>「设置」</code>-&gt; <code>「全部参数」</code>-&gt; 连续点击<code>「MIUI 版本」</code>（直至开启开发者选项即可）</p><p><code>「设置」</code>-&gt;<code>「更多设置」</code>-&gt;<code>「开发者选项」</code>-&gt;<code>「USB调试」</code>（开启即可）。</p><h3 id="3-USB数据线连接手机和电脑"><a href="#3-USB数据线连接手机和电脑" class="headerlink" title="3. USB数据线连接手机和电脑"></a>3. USB数据线连接手机和电脑</h3><h3 id="4-电脑执行命令"><a href="#4-电脑执行命令" class="headerlink" title="4. 电脑执行命令"></a>4. 电脑执行命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">adb reboot bootloader<br></code></pre></td></tr></table></figure><p>一旦手机处于快速启动模式，请通过键入以下内容<code>验证您的PC是否找到它</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">fastboot devices<br></code></pre></td></tr></table></figure><h3 id="5-闪存恢复到您的设备"><a href="#5-闪存恢复到您的设备" class="headerlink" title="5. 闪存恢复到您的设备"></a>5. 闪存恢复到您的设备</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210702181116.png"></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">fastboot</span> flash recovery  xxxxx.img    <br></code></pre></td></tr></table></figure><h3 id="6-断开数据线-手机同时按音量-和电源建-有点难进入-要尝试多次"><a href="#6-断开数据线-手机同时按音量-和电源建-有点难进入-要尝试多次" class="headerlink" title="6. 断开数据线, 手机同时按音量+和电源建 (有点难进入,要尝试多次)"></a>6. 断开数据线, 手机同时按<strong>音量+<strong>和</strong>电源建</strong> (有点难进入,要尝试多次)</h3><p>成功的话, 如图所示</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210702181119.png"></p><h3 id="7-清除数据"><a href="#7-清除数据" class="headerlink" title="7 清除数据"></a>7 清除数据</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210702181122.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210702181124.png"></p><h3 id="8-插入数据线-刷ROM"><a href="#8-插入数据线-刷ROM" class="headerlink" title="8. 插入数据线, 刷ROM"></a>8. 插入数据线, 刷ROM</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210702181127.png"></p><p>选择<code>Apply from ADB</code></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210702181129.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210702181131.png"></p><p>电脑执行以下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">adb sideload lineage-18.1-20210613-nightly-onclite-signed.zip   <br></code></pre></td></tr></table></figure><h3 id="9-完成"><a href="#9-完成" class="headerlink" title="9 完成"></a>9 完成</h3><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210702181134.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210702181137.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210702181139.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/20210702181141.png"></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="https://ericclose.github.io/Install-LineageOS-on-sagit.html">2020年 小米6 刷机 LineageOS 17.1 Official</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>手机</category>
      
    </categories>
    
    
    <tags>
      
      <tag>手机刷ROM</tag>
      
      <tag>红米手机</tag>
      
      <tag>小米手机</tag>
      
      <tag>红米7</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>教你用Hexo创建个人博客</title>
    <link href="/posts/6ad9f01285a1/"/>
    <url>/posts/6ad9f01285a1/</url>
    
    <content type="html"><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="安装Node-js-12以上版本"><a href="#安装Node-js-12以上版本" class="headerlink" title="安装Node.js 12以上版本"></a>安装Node.js 12以上版本</h3><blockquote><p><a href="https://nodejs.org/en/">https://nodejs.org/en/</a></p></blockquote><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210629123856338.png"></p><h3 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install -g hexo-cli<br></code></pre></td></tr></table></figure><h3 id="创建博客工程"><a href="#创建博客工程" class="headerlink" title="创建博客工程"></a>创建博客工程</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo init &lt;博客工程目录&gt;<br><span class="hljs-built_in">cd</span> &lt;博客工程目录&gt;<br>npm install<br></code></pre></td></tr></table></figure><h3 id="安裝hexo发布插件"><a href="#安裝hexo发布插件" class="headerlink" title="安裝hexo发布插件"></a>安裝hexo发布插件</h3><p>在<code>博客工程目录</code>执行以下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install hexo-deployer-git --save<br></code></pre></td></tr></table></figure><h3 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h3><p>在<code>博客工程目录</code>执行以下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install --save hexo-theme-fluid<br></code></pre></td></tr></table></figure><p>然后在博客目录下创建<code>_config.fluid.yml</code>，将 <a href="https://github.com/fluid-dev/hexo-theme-fluid/blob/master/_config.yml">_config.yml</a> 内容复制进去。</p><blockquote><p>参考: <a href="https://github.com/fluid-dev/hexo-theme-fluid">https://github.com/fluid-dev/hexo-theme-fluid</a></p></blockquote><h2 id="命令说明"><a href="#命令说明" class="headerlink" title="命令说明"></a>命令说明</h2><h3 id="清理生成的页面"><a href="#清理生成的页面" class="headerlink" title="清理生成的页面"></a>清理生成的页面</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bahs">hexo clean<br></code></pre></td></tr></table></figure><h3 id="开启本地服务器"><a href="#开启本地服务器" class="headerlink" title="开启本地服务器"></a>开启本地服务器</h3><p><code>调试页面</code>时, <strong>不用</strong>生成页面. 直接<code>启动</code>本地服务器即可<br>如果修改了<code>配置文件</code>, <strong>重新</strong>开启本地服务器即可</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo s<br></code></pre></td></tr></table></figure><blockquote><p>原文 <a href="https://hexo.io/zh-cn/docs/generating">https://hexo.io/zh-cn/docs/generating</a></p></blockquote><h3 id="生成页面"><a href="#生成页面" class="headerlink" title="生成页面"></a>生成页面</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo g<br></code></pre></td></tr></table></figure><blockquote><p>参考: <a href="https://hexo.io/zh-cn/docs/server">https://hexo.io/zh-cn/docs/server</a></p></blockquote><h3 id="发布到github-一键部署"><a href="#发布到github-一键部署" class="headerlink" title="发布到github (一键部署)"></a>发布到github (一键部署)</h3><p><strong>执行部署之前, 先需要<code>生成页面</code></strong></p><p>修改配置文件<code>_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">deploy:</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">git</span><br>  <span class="hljs-attr">repo:</span> <span class="hljs-string">&lt;repository</span> <span class="hljs-string">url&gt;</span> <span class="hljs-comment">#https://bitbucket.org/JohnSmith/johnsmith.bitbucket.io</span><br>  <span class="hljs-attr">branch:</span> [<span class="hljs-string">branch</span>]<br></code></pre></td></tr></table></figure><p>执行命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo d<br></code></pre></td></tr></table></figure><h2 id="主题设置"><a href="#主题设置" class="headerlink" title="主题设置"></a>主题设置</h2><h3 id="修改首页banner图片"><a href="#修改首页banner图片" class="headerlink" title="修改首页banner图片"></a>修改首页banner图片</h3><blockquote><p>建议用<code>1920*1080</code>分辨率的图片. 图片大小最好<strong>不要超过1MB</strong></p></blockquote><p>在<code>source/img</code>文件夹中加入<code>banner图片</code></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210702160049822.png"></p><p>到<code>_config.fluid.yml</code>配置中修改banner图片路径<br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210702154505648.png"></p><h3 id="修改网站ICON图标"><a href="#修改网站ICON图标" class="headerlink" title="修改网站ICON图标"></a>修改网站ICON图标</h3><ul><li><p>在icon网站下载<code>彩色图标</code>png文件<br>例如: <a href="https://www.iconfont.cn/">https://www.iconfont.cn/</a></p></li><li><p>把icon文件放入/source/img文件夹.<br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210702155020528.png"></p></li><li><p>在<code>_config.fluid</code>文件, 修改icon文件路径<br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210702154952583.png"></p></li></ul><h2 id="写作说明"><a href="#写作说明" class="headerlink" title="写作说明"></a>写作说明</h2><h3 id="文章添加封面图片"><a href="#文章添加封面图片" class="headerlink" title="文章添加封面图片"></a>文章添加封面图片</h3><p>在文章的最上面设置以下信息</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">&lt;文章标题&gt;</span> <br><span class="hljs-attr">index_img:</span> <span class="hljs-string">&lt;文章封面图片地址&gt;</span><br><span class="hljs-attr">banner_img:</span> <span class="hljs-string">&lt;文章Banner图片地址&gt;</span> <br><span class="hljs-attr">date:</span> <span class="hljs-string">&lt;文章创建时间&gt;</span><br><span class="hljs-meta">---</span><br><span class="hljs-meta"></span><br><span class="hljs-string">...文章内容...</span><br></code></pre></td></tr></table></figure><h2 id="github设置"><a href="#github设置" class="headerlink" title="github设置"></a>github设置</h2><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210629125902869.png"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210629130032633.png"></p><p><code>blog.wingogo.tk</code>是本案例的<code>博客域名</code>, 图中<code>4号位置</code>填上你的博客域名</p><h2 id="配置域名"><a href="#配置域名" class="headerlink" title="配置域名"></a>配置域名</h2><p>DNS设置<code>CNAME</code>记录值为github page的url</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210629130228507.png"></p><p>在<code>source</code>文件夹添加文件<strong>CNAME</strong>, 在CNAME文件中填上你的<code>博客域名</code></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210629130549711.png"></p><blockquote><p><a href="https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-a-subdomain">官方原文</a></p><p>To set up a www or custom subdomain, such as <a href="http://www.example.com/">www.example.com</a> or blog.example.com, you must add your domain in the repository settings, which will create a CNAME file in your site’s repository. After that, configure a CNAME record with your DNS provider.</p></blockquote><p>设置<code>url</code>为<code>域名</code></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210629130647291.png"></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考:"></a>参考:</h2><ul><li>hexo官网: <a href="https://hexo.io/">https://hexo.io/</a></li><li>fluid主题: <a href="https://github.com/fluid-dev/hexo-theme-fluid">https://github.com/fluid-dev/hexo-theme-fluid</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Web</category>
      
    </categories>
    
    
    <tags>
      
      <tag>博客</tag>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>使用Youtube-dl下载视频</title>
    <link href="/posts/eef75563744d/"/>
    <url>/posts/eef75563744d/</url>
    
    <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><code>youtube-dl</code>是一款命令行下载工具,可以用来下载视频网站的视频.(<a href="https://github.com/ytdl-org/youtube-dl">Github链接</a>)<br><a href="https://ytdl-org.github.io/youtube-dl/supportedsites.html">支持列表</a>包括: BiliBili, Youtube, 爱奇艺等</p><blockquote><p>youtube-dl项目由Ricardo Garcia创建于2008年。源代码由Python编写，托管在GitHub上。最初仅支持YouTube，但随着项目的发展，开始支持其他视频网站。2011年Ricardo Garcia不再维护此项目，由phihag接手，后转移给dstftw.</p></blockquote><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="安装python3和pip"><a href="#安装python3和pip" class="headerlink" title="安装python3和pip"></a>安装<code>python3</code>和<code>pip</code></h3><blockquote><p> 下载地址: <a href="https://www.python.org/downloads/">https://www.python.org/downloads/</a></p><p> 安装教程: <a href="https://zhuanlan.zhihu.com/p/344887837">https://zhuanlan.zhihu.com/p/344887837</a></p></blockquote><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/python_%E5%AE%89%E8%A3%852.jpg"></p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/python_%E5%AE%89%E8%A3%851.jpg"></p><p>安装时, 记得勾选<code>pip</code><br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/11.png"></p><h3 id="安装youtube-dl"><a href="#安装youtube-dl" class="headerlink" title="安装youtube-dl"></a>安装<code>youtube-dl</code></h3><blockquote><p>参考网站 <a href="https://github.com/ytdl-org/youtube-dl">https://github.com/ytdl-org/youtube-dl</a></p></blockquote><p>命令安装:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install --upgrade youtube-dl<br></code></pre></td></tr></table></figure><p>或者<a href="https://yt-dl.org/latest/youtube-dl.exe">下载exe文件</a></p><p>官方原话:</p><blockquote><p>Windows users can <a href="https://yt-dl.org/latest/youtube-dl.exe">download  an .exe file</a> and place it in any location on their <a href="https://en.wikipedia.org/wiki/PATH_(variable)">PATH</a> except for <code>%SYSTEMROOT%\System32</code> (e.g. <strong>do not</strong> put in <code>C:\Windows\System32</code>).</p></blockquote><h3 id="安装ffmpeg-选择安装"><a href="#安装ffmpeg-选择安装" class="headerlink" title="安装ffmpeg(选择安装)"></a>安装<code>ffmpeg</code>(选择安装)</h3><p>主要用来转换<code>mp4</code>格式</p><blockquote><p>下载地址: <a href="https://github.com/BtbN/FFmpeg-Builds/releases">https://github.com/BtbN/FFmpeg-Builds/releases</a></p></blockquote><p>   <img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210627185448896.png" alt="image-20210627185448896"></p><p>   解压缩安装包, 然后把<code>ffmpeg解压缩目录\bin</code>添加到<code>环境变量</code></p><p>   <img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210627185651420.png" alt="image-20210627185651420"></p><p>   <img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210627185738563.png" alt="image-20210627185738563"></p><p>   <img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210627185817039.png" alt="image-20210627185817039"></p><p>   如图所示, 添加环境变量<code>ffmpeg解压缩目录\bin</code></p><p>   <img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210627185841049.png" alt="image-20210627185841049"></p><h3 id="安装aria2-选择安装"><a href="#安装aria2-选择安装" class="headerlink" title="安装aria2(选择安装)"></a>安装<code>aria2</code>(选择安装)</h3><p>如果不需要多线程下载话,可以不用安装.</p><p><code>aira2</code>是一个可以多线程下载的命令行<code>下载工具</code>,可以用于提高下载速度.<code>youtube-dl</code>默认是单线程下载.</p><p>下载完成后,<code>安装目录</code>添加到<code>环境变量</code>即可(参考<code>ffmpeg</code>安装过程即可)</p><p><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210630102346258.png" alt="image-20210630102346258"></p><blockquote><p>官网: <a href="https://aria2.github.io/">https://aria2.github.io/</a></p><p>使用说明 <a href="https://zhuanlan.zhihu.com/p/30666881">https://zhuanlan.zhihu.com/p/30666881</a></p></blockquote><h2 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h2><h3 id="1-下载单个视频"><a href="#1-下载单个视频" class="headerlink" title="1. 下载单个视频"></a>1. 下载单个视频</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">youtube-dl \<br>-o <span class="hljs-string">&quot;E:\保存位置\%(title)s-%(upload_date)s.%(ext)s&quot;</span> \<br>-f <span class="hljs-string">&#x27;bestvideo[ext=mp4]+bestaudio[ext=m4a]/mp4&#x27;</span> \<br>https://www.youtube.com/watch?v=H00fMgUMmlY     <br></code></pre></td></tr></table></figure><ul><li><code>-o &quot;E:\保存位置\%(title)s-%(upload_date)s.%(ext)s&quot;</code> 视频输出路径和视频文件名称</li><li><code>-f &#39;bestvideo[ext=mp4]+bestaudio[ext=m4a]/mp4&#39;</code>设置下载视频格式为<code>mp4</code><br>如果不支持下载<code>mp4</code>格式, 把这个参数改为<code>-f best</code>可以下载其他格式</li><li><code>https://www.youtube.com/watch?v=H00fMgUMmlY</code> 视频地址</li></ul><h3 id="2-下载频道里面的多个视频"><a href="#2-下载频道里面的多个视频" class="headerlink" title="2. 下载频道里面的多个视频"></a>2. 下载频道里面的多个视频</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">youtube-dl \<br>--playlist-reverse \<br>-o <span class="hljs-string">&quot;E:\保存位置\%(playlist_index)s-%(title)s-%(upload_date)s.%(ext)s&quot;</span> \<br>-f <span class="hljs-string">&#x27;bestvideo[ext=mp4]+bestaudio[ext=m4a]/mp4&#x27;</span> \<br>https://www.youtube.com/@ArduinoBar/videos<br></code></pre></td></tr></table></figure><ul><li><code>-o &quot;E:\保存位置\%(playlist_index)s-%(title)s-%(upload_date)s.%(ext)s&quot;</code> 视频输出路径和视频文件名称</li><li><code>-f &#39;bestvideo[ext=mp4]+bestaudio[ext=m4a]/mp4&#39;</code>设置下载视频格式为<code>mp4</code><br>如果不支持下载<code>mp4</code>格式, 把这个参数改为<code>-f best</code>可以下载其他格式</li><li><code>--playlist-reverse</code>反转下载列表, 因为默认是按最新时间为开头排序,所以要加这个参数</li><li><code>https://www.youtube.com/@ArduinoBar/videos</code> 频道地址</li></ul><h3 id="3-下载播放列表-专辑列表"><a href="#3-下载播放列表-专辑列表" class="headerlink" title="3.下载播放列表(专辑列表)"></a>3.下载播放列表(专辑列表)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">youtube-dl \<br>--yes-playlist \<br>-o <span class="hljs-string">&#x27;E:\保存位置\%(playlist_index)s-%(title)s-%(upload_date)s.%(ext)s&#x27;</span> \<br>-f <span class="hljs-string">&#x27;bestvideo[ext=mp4]+bestaudio[ext=m4a]/mp4&#x27;</span> \<br>https://www.youtube.com/playlist?list=PLQRnyhbmYAa_gibMxk780O9hyTDgUTMH6<br></code></pre></td></tr></table></figure><p><code>--yes-playlist</code> 下载播放列表, 专门用来下载视频专辑的参数</p><p><code>-o &quot;E:\保存位置\%(playlist_index)s-%(title)s-%(upload_date)s.%(ext)s&quot;</code> 视频输出路径和视频文件名称</p><p><code>-f &#39;bestvideo[ext=mp4]+bestaudio[ext=m4a]/mp4&#39;</code>设置下载视频格式为<code>mp4</code><br>如果不支持下载<code>mp4</code>格式, 把这个参数改为<code>-f best</code>可以下载其他格式</p><h3 id="4-按地址文件下载多个视频"><a href="#4-按地址文件下载多个视频" class="headerlink" title="4.按地址文件下载多个视频"></a>4.按地址文件下载多个视频</h3><p><code>youtube-dl -a url.txt</code>也可以将要下载视频的URL全部放在文本文件中，并将其作为参数传递给youtube-dl。此命令将下载url.txt文件中所有URL指向的视频。文件中使用<code>#</code>号作为注释.</p><h3 id="5-下载字幕"><a href="#5-下载字幕" class="headerlink" title="5.下载字幕"></a>5.下载字幕</h3><ul><li><p><code>youtube-dl --write-sub [url]</code>这样会下载一个vtt格式的英文字幕和mkv格式的1080p视频下来</p></li><li><p><code>youtube-dl --write-sub --skip-download [url]</code>下载单独的vtt字幕文件,而不会下载视频</p></li><li><p><code>youtube-dl --write-sub --all-subs [url]</code>下载所有语言的字幕(如果有的话)</p></li><li><p><code>youtube-dl --write-auto-sub [url]</code>下载自动生成的字幕(YouTube only)</p></li><li><p><code>youtube-dl  --embed-subs [url]</code> ：把字幕合并到视频中，只支持 mp4、mkv 和 webm 格式的视频</p></li></ul><h3 id="6-按日期下载视频列表"><a href="#6-按日期下载视频列表" class="headerlink" title="6.按日期下载视频列表"></a>6.按日期下载视频列表</h3><p>youtube-dl 允许我们按照上传日期来筛选和下载视频或播放列表，例如：</p><ul><li><p>要下载 2019 年 8 月 1 日上传的视频，可以使用：<code>youtube-dl --date 20190801 [URL]</code>；</p></li><li><p>下载在特定日期或之前上传的视频：<code>youtube-dl --datebefore 20190801 [URL]</code>；</p></li><li><p>下载在特定日期或之后上传的视频：<code>youtube-dl --dateafter 20190101 [URL]</code>；</p></li><li><p>仅下载过去 6 个月内上传的视频：<code>youtube-dl --dateafter now-6months [URL]</code>；</p></li><li><p>下载特定时间段内（例如 2018 年 1 月 1 日至 2019 年 1 月 1 日）上传的视频：<code>youtube-dl --dateafter 20180101 --datebefore 20190101 [URL]</code>。</p></li></ul><h3 id="7-按序号下载视频列表"><a href="#7-按序号下载视频列表" class="headerlink" title="7. 按序号下载视频列表"></a>7. 按序号下载视频列表</h3><p>要从播放列表下载第 10 个文件，可使用：<code>youtube-dl --playlist-items 10 [playlist_url]</code><br>要下载多个指定的文件，用逗号分隔：<code>youtube-dl --playlist-items 2,3,7,10 [playlist_url]</code></p><p>也可以按序号来指定下载范围，例如：</p><ul><li><p>从第 10 个开始，直接下载完整个列表：<code>youtube-dl --playlist-start 10 [playlist_url]</code></p></li><li><p>在播放列表中仅下载从第 2 到第 5 的文件：<code>youtube-dl --playlist-start 2 --playlist-end 5 [playlist_url]</code></p></li></ul><h3 id="8-查看视频的所有类型，只看不下载"><a href="#8-查看视频的所有类型，只看不下载" class="headerlink" title="8. 查看视频的所有类型，只看不下载"></a>8. 查看视频的所有类型，只看不下载</h3><p>命令：<code>youtube-dl -F [url]</code>或者<code>youtube-dl --list-formats [url]</code>。<br>这是一个列清单参数，执行后并不会下载视频，但能知道这个目标视频都有哪些格式存在，以便有选择的下载。</p><p>  <img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/v2-fbd29bcc7dc8c7e2b9ea393714b5f038_720w.jpg" alt="img"></p><p>如上图所示，Youtube-dl 列出了给定视频的所有可用格式，从左到右分别为：format code（视频格式代码）、extension（扩展名）、resolution（分辨率）和 note（注释）。当您想要以特定质量或格式下载视频时，先查看一下有哪些可用，会非常便利。</p><h3 id="9-下载视频列表文件名称-输出到txt文件"><a href="#9-下载视频列表文件名称-输出到txt文件" class="headerlink" title="9. 下载视频列表文件名称, 输出到txt文件"></a>9. 下载视频列表文件名称, 输出到txt文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">youtube-dl \<br>--playlist-reverse \<br>--write-description \<br>--get-filename  \<br>-o <span class="hljs-string">&#x27;%(playlist_index)s-%(title)s-%(upload_date)s.mp4&#x27;</span>  \<br>https://www.youtube.com/playlist?list=PLQRnyhbmYAa_gibMxk780O9hyTDgUTMH6<span class="hljs-string">&quot; \</span><br><span class="hljs-string">&gt; video_names.txt</span><br></code></pre></td></tr></table></figure><ul><li><code>--get-filename</code> 获取视频名称</li></ul><h3 id="9-1-获取视频播放列表的视频地址-输出到txt文件"><a href="#9-1-获取视频播放列表的视频地址-输出到txt文件" class="headerlink" title="9.1. 获取视频播放列表的视频地址, 输出到txt文件"></a>9.1. 获取视频播放列表的视频地址, 输出到txt文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><br><span class="hljs-comment"># 输出文件</span><br>file=<span class="hljs-string">&quot;out.txt&quot;</span><br><br><span class="hljs-comment"># 播放列表地址</span><br>playlist_url=<span class="hljs-string">&quot;https://www.youtube.com/playlist?list=PLQRnyhbmYAa_gibMxk780O9hyTDgUTMH6&quot;</span><br><br><span class="hljs-comment"># 获取视频id, 写入文件</span><br>youtube-dl \<br>--playlist-reverse \<br>--get-id  \<br><span class="hljs-string">&quot;<span class="hljs-variable">$playlist_url</span>&quot;</span> \<br>&gt; <span class="hljs-string">&quot;<span class="hljs-variable">$file</span>&quot;</span><br><br><span class="hljs-comment"># 添加视频地址前缀</span><br>sed -i <span class="hljs-string">&#x27;s|^|https://www.youtube.com/watch?v=|g&#x27;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$file</span>&quot;</span><br></code></pre></td></tr></table></figure><ul><li><code>--get-id</code> 获取视频id</li></ul><h3 id="10-更多使用方法"><a href="#10-更多使用方法" class="headerlink" title="10. 更多使用方法"></a>10. 更多使用方法</h3><blockquote><p> <a href="https://zhuanlan.zhihu.com/p/105141332">https://zhuanlan.zhihu.com/p/105141332</a><br> <a href="https://github.com/ytdl-org/youtube-dl">https://github.com/ytdl-org/youtube-dl</a></p></blockquote><h2 id="进阶使用"><a href="#进阶使用" class="headerlink" title="进阶使用"></a>进阶使用</h2><h3 id="搭配aria2进行多线程下载"><a href="#搭配aria2进行多线程下载" class="headerlink" title="搭配aria2进行多线程下载"></a>搭配<code>aria2</code>进行多线程下载</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">youtube-dl \<br>--playlist-reverse \<br>-o <span class="hljs-string">&#x27;E:\保存位置\%(playlist_index)s-%(title)s-%(upload_date)s.%(ext)s&#x27;</span> \<br>-f <span class="hljs-string">&#x27;bestvideo[ext=mp4]+bestaudio[ext=m4a]/mp4&#x27;</span> \<br>--external-downloader aria2c \<br>--external-downloader-args <span class="hljs-string">&#x27;-x 16 -k 1M&#x27;</span> \<br>https://www.youtube.com/playlist?list=PLQRnyhbmYAa_gibMxk780O9hyTDgUTMH6<br></code></pre></td></tr></table></figure><p>上面命令可以加入<code>--playlist-end 5</code>测试下载5个视频</p><blockquote><p>参数说明 </p><p><code>--external-downloader aria2c</code>  //调用外部下载工具</p><p><code>--external-downloader-args</code> //外部下载工具指定参数</p><p><code>-x 16</code> //启用aria2 16个线程，最多就支持16线程</p><p><code>-K 1M </code> //指定块的大小</p></blockquote><h2 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h2><h3 id="1-xx-sh文件如何使用"><a href="#1-xx-sh文件如何使用" class="headerlink" title="1. xx.sh文件如何使用?"></a>1. xx.sh文件如何使用?</h3><ul><li><p>安装<a href="https://gitforwindows.org/">git for windows</a></p></li><li><p>在<code>xx.sh</code>的所在目录, 点击鼠标右键, 选择<code>git bash here</code><br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210627193025438.png" alt="image-20210627193025438"></p></li><li><p>在<code>git bash</code>输入<code>sh download_videos.sh</code>,  按回车执行<br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210627191925305.png" alt="image-20210627191925305"></p><h3 id="2-解决问题ERROR-Unable-to-extract-uploader-id"><a href="#2-解决问题ERROR-Unable-to-extract-uploader-id" class="headerlink" title="2. 解决问题ERROR: Unable to extract uploader id"></a>2. 解决问题ERROR: Unable to extract uploader id</h3><p><a href="https://www.youtube.com/watch?v=Ghe058HpmMk">https://www.youtube.com/watch?v=Ghe058HpmMk</a></p></li></ul>]]></content>
    
    
    <categories>
      
      <category>软件</category>
      
    </categories>
    
    
    <tags>
      
      <tag>下载工具</tag>
      
      <tag>Youtube</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
