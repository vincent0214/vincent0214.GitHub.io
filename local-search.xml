<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>youtube-dl使用说明</title>
    <link href="/2021/06/29/youtube-dl%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/"/>
    <url>/2021/06/29/youtube-dl%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/</url>
    
    <content type="html"><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="安装python3"><a href="#安装python3" class="headerlink" title="安装python3"></a>安装<code>python3</code></h3><blockquote><p> 下载地址: <a href="https://www.python.org/downloads/">https://www.python.org/downloads/</a><br> 安装教程: <a href="https://zhuanlan.zhihu.com/p/344887837">https://zhuanlan.zhihu.com/p/344887837</a></p></blockquote><h3 id="安装pip"><a href="#安装pip" class="headerlink" title="安装pip"></a>安装<code>pip</code></h3><p>安装python时, 勾选<code>pip</code>选项即可<br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/11.png"></p><h3 id="安装ffmpeg"><a href="#安装ffmpeg" class="headerlink" title="安装ffmpeg"></a>安装<code>ffmpeg</code></h3><blockquote><p><a href="https://github.com/BtbN/FFmpeg-Builds/releases">https://github.com/BtbN/FFmpeg-Builds/releases</a></p></blockquote><p>   <img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210627185448896.png" alt="image-20210627185448896"></p><p>   解压缩安装包, 然后把<code>ffmpeg解压缩目录\bin</code>添加到<code>环境变量</code></p><p>   <img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210627185651420.png" alt="image-20210627185651420"></p><p>   <img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210627185738563.png" alt="image-20210627185738563"></p><p>   <img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210627185817039.png" alt="image-20210627185817039"></p><p>   如图所示, 添加环境变量<code>ffmpeg解压缩目录\bin</code></p><p>   <img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210627185841049.png" alt="image-20210627185841049"></p><h3 id="安装youtube-dl"><a href="#安装youtube-dl" class="headerlink" title="安装youtube-dl"></a>安装<code>youtube-dl</code></h3><blockquote><p>参考网站 <a href="https://github.com/ytdl-org/youtube-dl">https://github.com/ytdl-org/youtube-dl</a></p></blockquote><p>命令安装:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install --upgrade youtube-dl<br></code></pre></td></tr></table></figure><p>或者<a href="https://yt-dl.org/latest/youtube-dl.exe">下载ext文件</a></p><blockquote><p>官方原话:<br>Windows users can <a href="https://yt-dl.org/latest/youtube-dl.exe">download  an .exe file</a> and place it in any location on their <a href="https://en.wikipedia.org/wiki/PATH_(variable)">PATH</a> except for <code>%SYSTEMROOT%\System32</code> (e.g. <strong>do not</strong> put in <code>C:\Windows\System32</code>).</p></blockquote><h2 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h2><h3 id="1-下载某个频道的所有视频"><a href="#1-下载某个频道的所有视频" class="headerlink" title="1. 下载某个频道的所有视频"></a>1. 下载某个频道的所有视频</h3><p><code>-o &quot;E:\保存位置\%(playlist_index)s-%(title)s-%(upload_date)s.%(ext)s&quot;</code> 视频输出路径和视频文件名称,</p><p><code>-f &#39;bestvideo[ext=mp4]+bestaudio[ext=m4a]/mp4&#39;</code>设置视频格式为mp4,<br><code>--playlist-reverse</code>反转下载列表, 因为默认是按最新时间为开头排序,所以要加这个参数<br>最后的参数是<code>视频列表网址</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">youtube-dl \<br>--playlist-reverse \<br>-o <span class="hljs-string">&quot;E:\保存位置\%(playlist_index)s-%(title)s-%(upload_date)s.%(ext)s&quot;</span> \<br>-f <span class="hljs-string">&#x27;bestvideo[ext=mp4]+bestaudio[ext=m4a]/mp4&#x27;</span> \<br>https://www.youtube.com/channel/UCL_6y6pug2cYoYCYvXDbgHA/videos<br></code></pre></td></tr></table></figure><h3 id="2-下载字幕"><a href="#2-下载字幕" class="headerlink" title="2.下载字幕"></a>2.下载字幕</h3><p><code>youtube-dl --write-sub [url]</code>这样会下载一个vtt格式的英文字幕和mkv格式的1080p视频下来<br><code>youtube-dl --write-sub --skip-download [url]</code>下载单独的vtt字幕文件,而不会下载视频<br><code>youtube-dl --write-sub --all-subs [url]</code>下载所有语言的字幕(如果有的话)<br><code>youtube-dl --write-auto-sub [url]</code>下载自动生成的字幕(YouTube only)</p><h3 id="3-按日期下载视频列表"><a href="#3-按日期下载视频列表" class="headerlink" title="3.按日期下载视频列表"></a>3.按日期下载视频列表</h3><p>Youtube-dl 允许我们按照上传日期来筛选和下载视频或播放列表，例如：</p><ul><li><p>要下载 2019 年 8 月 1 日上传的视频，可以使用：<code>youtube-dl --date 20190801 [URL]</code>；</p></li><li><p>下载在特定日期或之前上传的视频：<code>youtube-dl --datebefore 20190801 [URL]</code>；</p></li><li><p>下载在特定日期或之后上传的视频：<code>youtube-dl --dateafter 20190101 [URL]</code>；</p></li><li><p>仅下载过去 6 个月内上传的视频：<code>youtube-dl --dateafter now-6months [URL]</code>；</p></li><li><p>下载特定时间段内（例如 2018 年 1 月 1 日至 2019 年 1 月 1 日）上传的视频：<code>youtube-dl --dateafter 20180101 --datebefore 20190101 [URL]</code>。</p></li></ul><h3 id="4-查看视频的所有类型，只看不下载"><a href="#4-查看视频的所有类型，只看不下载" class="headerlink" title="4. 查看视频的所有类型，只看不下载"></a>4. 查看视频的所有类型，只看不下载</h3><p>命令：<code>youtube-dl -F [url]</code>或者<code>youtube-dl --list-formats [url]</code>。<br>这是一个列清单参数，执行后并不会下载视频，但能知道这个目标视频都有哪些格式存在，以便有选择的下载。</p><p>  <img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/v2-fbd29bcc7dc8c7e2b9ea393714b5f038_720w.jpg" alt="img"></p><p>如上图所示，Youtube-dl 列出了给定视频的所有可用格式，从左到右分别为：format code（视频格式代码）、extension（扩展名）、resolution（分辨率）和 note（注释）。当您想要以特定质量或格式下载视频时，先查看一下有哪些可用，会非常便利。</p><h3 id="5-下载视频列表文件名称-输出到txt文件"><a href="#5-下载视频列表文件名称-输出到txt文件" class="headerlink" title="5. 下载视频列表文件名称, 输出到txt文件"></a>5. 下载视频列表文件名称, 输出到txt文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">youtube-dl \<br>--playlist-reverse \<br>--write-description \<br>--get-filename  \<br>-o <span class="hljs-string">&#x27;%(playlist_index)s-%(title)s-%(upload_date)s.mp4&#x27;</span>  \<br>https://www.youtube.com/channel/UCL_6y6pug2cYoYCYvXDbgHA/videos \<br>&gt; video_names.txt<br></code></pre></td></tr></table></figure><h3 id="6-更多使用方法"><a href="#6-更多使用方法" class="headerlink" title="6. 更多使用方法"></a>6. 更多使用方法</h3><blockquote><p> <a href="https://zhuanlan.zhihu.com/p/105141332">https://zhuanlan.zhihu.com/p/105141332</a><br> <a href="https://github.com/ytdl-org/youtube-dl">https://github.com/ytdl-org/youtube-dl</a></p></blockquote><h2 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h2><h3 id="1-xx-sh文件如何使用"><a href="#1-xx-sh文件如何使用" class="headerlink" title="1. xx.sh文件如何使用?"></a>1. xx.sh文件如何使用?</h3><ul><li><p>安装<a href="https://gitforwindows.org/">git for windows</a></p></li><li><p>在<code>xx.sh</code>的所在目录, 点击鼠标右键, 选择<code>git bash here</code><br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210627193025438.png" alt="image-20210627193025438"></p></li><li><p>在<code>git bash</code>输入<code>sh download_videos.sh</code>,  按回车执行<br><img src="https://markdown-1301532546.cos.ap-guangzhou.myqcloud.com/markdown/image-20210627191925305.png" alt="image-20210627191925305"></p></li></ul>]]></content>
    
    
    <categories>
      
      <category>软件使用</category>
      
    </categories>
    
    
    <tags>
      
      <tag>下载</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
